!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Blueprint=e():t.Blueprint=e()}(this,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=61)}([function(t,e){function n(t,e){if(!(this instanceof n))return new n(t,e);this.x=t||0,this.y=e||0}t.exports=n,n.fromArray=function(t){return new n(t[0]||0,t[1]||0)},n.fromObject=function(t){return new n(t.x||0,t.y||0)},n.prototype.addX=function(t){return this.x+=t.x,this},n.prototype.addY=function(t){return this.y+=t.y,this},n.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},n.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},n.prototype.addScalarX=function(t){return this.x+=t,this},n.prototype.addScalarY=function(t){return this.y+=t,this},n.prototype.subtractX=function(t){return this.x-=t.x,this},n.prototype.subtractY=function(t){return this.y-=t.y,this},n.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},n.prototype.subtractScalar=function(t){return this.x-=t,this.y-=t,this},n.prototype.subtractScalarX=function(t){return this.x-=t,this},n.prototype.subtractScalarY=function(t){return this.y-=t,this},n.prototype.divideX=function(t){return this.x/=t.x,this},n.prototype.divideY=function(t){return this.y/=t.y,this},n.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},n.prototype.divideScalar=function(t){return 0!==t?(this.x/=t,this.y/=t):(this.x=0,this.y=0),this},n.prototype.divideScalarX=function(t){return 0!==t?this.x/=t:this.x=0,this},n.prototype.divideScalarY=function(t){return 0!==t?this.y/=t:this.y=0,this},n.prototype.invertX=function(){return this.x*=-1,this},n.prototype.invertY=function(){return this.y*=-1,this},n.prototype.invert=function(){return this.invertX(),this.invertY(),this},n.prototype.multiplyX=function(t){return this.x*=t.x,this},n.prototype.multiplyY=function(t){return this.y*=t.y,this},n.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},n.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},n.prototype.multiplyScalarX=function(t){return this.x*=t,this},n.prototype.multiplyScalarY=function(t){return this.y*=t,this},n.prototype.normalize=function(){var t=this.length();return 0===t?(this.x=1,this.y=0):this.divide(n(t,t)),this},n.prototype.norm=n.prototype.normalize,n.prototype.limit=function(t,e){return Math.abs(this.x)>t&&(this.x*=e),Math.abs(this.y)>t&&(this.y*=e),this},n.prototype.randomize=function(t,e){return this.randomizeX(t,e),this.randomizeY(t,e),this},n.prototype.randomizeX=function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x);return this.x=r(n,i),this},n.prototype.randomizeY=function(t,e){var n=Math.min(t.y,e.y),i=Math.max(t.y,e.y);return this.y=r(n,i),this},n.prototype.randomizeAny=function(t,e){return Math.round(Math.random())?this.randomizeX(t,e):this.randomizeY(t,e),this},n.prototype.unfloat=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},n.prototype.toFixed=function(t){return void 0===t&&(t=8),this.x=this.x.toFixed(t),this.y=this.y.toFixed(t),this},n.prototype.mixX=function(t,e){return void 0===e&&(e=.5),this.x=(1-e)*this.x+e*t.x,this},n.prototype.mixY=function(t,e){return void 0===e&&(e=.5),this.y=(1-e)*this.y+e*t.y,this},n.prototype.mix=function(t,e){return this.mixX(t,e),this.mixY(t,e),this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyX=function(t){return this.x=t.x,this},n.prototype.copyY=function(t){return this.y=t.y,this},n.prototype.copy=function(t){return this.copyX(t),this.copyY(t),this},n.prototype.zero=function(){return this.x=this.y=0,this},n.prototype.dot=function(t){return this.x*t.x+this.y*t.y},n.prototype.cross=function(t){return this.x*t.y-this.y*t.x},n.prototype.projectOnto=function(t){var e=(this.x*t.x+this.y*t.y)/(t.x*t.x+t.y*t.y);return this.x=e*t.x,this.y=e*t.y,this},n.prototype.horizontalAngle=function(){return Math.atan2(this.y,this.x)},n.prototype.horizontalAngleDeg=function(){return o(this.horizontalAngle())},n.prototype.verticalAngle=function(){return Math.atan2(this.x,this.y)},n.prototype.verticalAngleDeg=function(){return o(this.verticalAngle())},n.prototype.angle=n.prototype.horizontalAngle,n.prototype.angleDeg=n.prototype.horizontalAngleDeg,n.prototype.direction=n.prototype.horizontalAngle,n.prototype.rotate=function(t){var e=this.x*Math.cos(t)-this.y*Math.sin(t),n=this.x*Math.sin(t)+this.y*Math.cos(t);return this.x=e,this.y=n,this},n.prototype.rotateDeg=function(t){return t=s(t),this.rotate(t)},n.prototype.rotateTo=function(t){return this.rotate(t-this.angle())},n.prototype.rotateToDeg=function(t){return t=s(t),this.rotateTo(t)},n.prototype.rotateBy=function(t){var e=this.angle()+t;return this.rotate(e)},n.prototype.rotateByDeg=function(t){return t=s(t),this.rotateBy(t)},n.prototype.distanceX=function(t){return this.x-t.x},n.prototype.absDistanceX=function(t){return Math.abs(this.distanceX(t))},n.prototype.distanceY=function(t){return this.y-t.y},n.prototype.absDistanceY=function(t){return Math.abs(this.distanceY(t))},n.prototype.distance=function(t){return Math.sqrt(this.distanceSq(t))},n.prototype.distanceSq=function(t){var e=this.distanceX(t),n=this.distanceY(t);return e*e+n*n},n.prototype.length=function(){return Math.sqrt(this.lengthSq())},n.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},n.prototype.magnitude=n.prototype.length,n.prototype.isZero=function(){return 0===this.x&&0===this.y},n.prototype.isEqualTo=function(t){return this.x===t.x&&this.y===t.y},n.prototype.toString=function(){return"x:"+this.x+", y:"+this.y},n.prototype.toArray=function(){return[this.x,this.y]},n.prototype.toObject=function(){return{x:this.x,y:this.y}};var i=180/Math.PI;function r(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function o(t){return t*i}function s(t){return t/i}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n(39),r=n(40),o=n(15);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return l(this,t,e,n)}function l(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(e,n),r=(t=a(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|d(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(h(e),t=a(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|d(e.length);t=a(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function d(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(i)return F(t).length;e=(""+e).toLowerCase(),i=!0}}function y(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return S(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return I(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function _(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function g(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=u.from(e,i)),u.isBuffer(e))return 0===e.length?-1:m(t,e,n,i,r);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,i,r){var o,s=1,a=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var h=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===u)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var c=!0,f=0;f<u;f++)if(l(t,o+f)!==l(e,f)){c=!1;break}if(c)return o}return-1}function v(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function b(t,e,n,i){return Z(F(e,t.length-n),t,n,i)}function w(t,e,n,i){return Z(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function k(t,e,n,i){return w(t,e,n,i)}function E(t,e,n,i){return Z(U(e),t,n,i)}function x(t,e,n,i){return Z(function(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function I(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,s,a,u,l=t[r],h=null,c=l>239?4:l>223?3:l>191?2:1;if(r+c<=n)switch(c){case 1:l<128&&(h=l);break;case 2:128==(192&(o=t[r+1]))&&(u=(31&l)<<6|63&o)>127&&(h=u);break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(h=u)}null===h?(h=65533,c=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),r+=c}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return n}(i)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,i){return h(e),e<=0?a(t,e):void 0!==n?"string"==typeof i?a(t,e).fill(n,i):a(t,e).fill(n):a(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return c(null,t)},u.allocUnsafeSlow=function(t){return c(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=u.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):y.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,i,r){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),l=this.slice(i,r),h=t.slice(e,n),c=0;c<a;++c)if(l[c]!==h[c]){o=l[c],s=h[c];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},u.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return k(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function A(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function O(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=B(t[o]);return r}function R(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function N(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,n,i,r,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function M(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function P(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function z(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function C(t,e,n,i,o){return o||z(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function j(t,e,n,i,o){return o||z(t,0,n,8),r.write(t,e,n,i,52,8),n+8}u.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var r=e-t;n=new u(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},u.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),r.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),r.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),r.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),r.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||L(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||L(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);L(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);L(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return C(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return C(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:F(new u(t,i).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],s=0;s<i;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(D,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Z(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,n(5))},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,l=[],h=!1,c=-1;function f(){h&&u&&(h=!1,u.length?l=u.concat(l):c=-1,l.length&&d())}function d(){if(!h){var t=a(f);h=!0;for(var e=l.length;e;){for(u=l,l=[];++c<e;)u&&u[c].run();c=-1,e=l.length}u=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function y(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||h||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=y,r.addListener=y,r.once=y,r.off=y,r.removeListener=y,r.removeAllListeners=y,r.emit=y,r.prependListener=y,r.prependOnceListener=y,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";var i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=c;var r=n(11),o=n(6);o.inherits=n(4);var s=n(16),a=n(12);o.inherits(c,s);for(var u=i(a.prototype),l=0;l<u.length;l++){var h=u[l];c.prototype[h]||(c.prototype[h]=a.prototype[h])}function c(t){if(!(this instanceof c))return new c(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r(d,this)}function d(t){t.end()}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(1).Buffer)},function(t,e,n){t.exports=r;var i=n(8).EventEmitter;function r(){i.call(this)}n(4)(r,i),r.Readable=n(41),r.Writable=n(47),r.Duplex=n(48),r.Transform=n(49),r.PassThrough=n(50),r.Stream=r,r.prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",u));var s=!1;function a(){s||(s=!0,t.end())}function u(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function l(t){if(h(),0===i.listenerCount(this,"error"))throw t}function h(){n.removeListener("data",r),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",u),n.removeListener("error",l),t.removeListener("error",l),n.removeListener("end",h),n.removeListener("close",h),t.removeListener("close",h)}return n.on("error",l),t.on("error",l),n.on("end",h),n.on("close",h),t.on("close",h),t.emit("pipe",n),t}},function(t,e,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function l(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function c(t,e,n,i){var r,o,s,a;if(l(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=h(t))>0&&s.length>r&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=f.bind(i);return r.listener=n,i.wrapFn=r,r}function p(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):_(r,r.length)}function y(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function _(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return h(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=r[t];if(void 0===u)return!1;if("function"==typeof u)o(u,this,e);else{var l=u.length,h=_(u,l);for(n=0;n<l;++n)o(h[n],this,e)}return!0},a.prototype.addListener=function(t,e){return c(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return c(this,t,e,!0)},a.prototype.once=function(t,e){return l(e),this.on(t,d(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,d(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,i,r,o,s;if(l(e),void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},a.prototype.listeners=function(t){return p(this,t,!0)},a.prototype.rawListeners=function(t){return p(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):y.call(t,e)},a.prototype.listenerCount=y,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){var e,n,i,r,o,s;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(s=new Uint8Array(i),r=0,e=0,n=t.length;e<n;e++)o=t[e],s.set(o,r),r+=o.length;return s}},s={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,s))},e.setTyped(i)},function(t,e,n){(function(t){var i=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++)n[e[i]]=Object.getOwnPropertyDescriptor(t,e[i]);return n},r=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,o=i.length,s=String(t).replace(r,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}})),u=i[n];n<o;u=i[++n])y(u)||!b(u)?s+=" "+u:s+=" "+a(u);return s},e.deprecate=function(n,i){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,i).apply(this,arguments)};var r=!1;return function(){if(!r){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),r=!0}return n.apply(this,arguments)}};var o,s={};function a(t,n){var i={seen:[],stylize:l};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),p(n)?i.showHidden=n:n&&e._extend(i,n),m(i.showHidden)&&(i.showHidden=!1),m(i.depth)&&(i.depth=2),m(i.colors)&&(i.colors=!1),m(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=u),h(i,t,i.depth)}function u(t,e){var n=a.styles[e];return n?"["+a.colors[n][0]+"m"+t+"["+a.colors[n][1]+"m":t}function l(t,e){return t}function h(t,n,i){if(t.customInspect&&n&&E(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return g(r)||(r=h(t,r,i)),r}var o=function(t,e){if(m(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(_(e))return t.stylize(""+e,"number");if(p(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),k(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(n);if(0===s.length){if(E(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(v(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(k(n))return c(n)}var l,b="",x=!1,I=["{","}"];(d(n)&&(x=!0,I=["[","]"]),E(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return v(n)&&(b=" "+RegExp.prototype.toString.call(n)),w(n)&&(b=" "+Date.prototype.toUTCString.call(n)),k(n)&&(b=" "+c(n)),0!==s.length||x&&0!=n.length?i<0?v(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=x?function(t,e,n,i,r){for(var o=[],s=0,a=e.length;s<a;++s)A(e,String(s))?o.push(f(t,e,n,i,String(s),!0)):o.push("");return r.forEach((function(r){r.match(/^\d+$/)||o.push(f(t,e,n,i,r,!0))})),o}(t,n,i,a,s):s.map((function(e){return f(t,n,i,a,e,x)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(l,b,I)):I[0]+b+I[1]}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,i,r,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),A(i,r)||(s="["+r+"]"),a||(t.seen.indexOf(u.value)<0?(a=y(n)?h(t,u.value,null):h(t,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),m(s)){if(o&&r.match(/^\d+$/))return a;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function y(t){return null===t}function _(t){return"number"==typeof t}function g(t){return"string"==typeof t}function m(t){return void 0===t}function v(t){return b(t)&&"[object RegExp]"===x(t)}function b(t){return"object"==typeof t&&null!==t}function w(t){return b(t)&&"[object Date]"===x(t)}function k(t){return b(t)&&("[object Error]"===x(t)||t instanceof Error)}function E(t){return"function"==typeof t}function x(t){return Object.prototype.toString.call(t)}function I(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(m(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var i=t.pid;s[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,i,t)}}else s[n]=function(){};return s[n]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=_,e.isString=g,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=m,e.isRegExp=v,e.isObject=b,e.isDate=w,e.isError=k,e.isFunction=E,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(25);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(){var t=new Date,e=[I(t.getHours()),I(t.getMinutes()),I(t.getSeconds())].join(":");return[t.getDate(),T[t.getMonth()],e].join(" ")}function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",S(),e.format.apply(e,arguments))},e.inherits=n(26),e._extend=function(t,e){if(!e||!b(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t};var O="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(O&&t[O]){var e;if("function"!=typeof(e=t[O]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,O,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,i=new Promise((function(t,i){e=t,n=i})),r=[],o=0;o<arguments.length;o++)r.push(arguments[o]);r.push((function(t,i){t?n(t):e(i)}));try{t.apply(this,r)}catch(t){n(t)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),O&&Object.defineProperty(e,O,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,i(t))},e.promisify.custom=O,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);var r=n.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return r.apply(o,arguments)};e.apply(this,n).then((function(e){t.nextTick(s,null,e)}),(function(e){t.nextTick(R,e,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,i(e)),n}}).call(this,n(2))},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=function(t){var n=new Array(arguments.length-1),i=0;for(;i<n.length;)n[i++]=arguments[i];e.nextTick((function(){t.apply(null,n)}))}:t.exports=e.nextTick}).call(this,n(2))},function(t,e,n){"use strict";(function(e,i){t.exports=p;var r=n(11),o=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?i:r,s=n(1).Buffer;p.WritableState=d;var a=n(6);a.inherits=n(4);var u,l={deprecate:n(45)};!function(){try{u=n(7)}catch(t){}finally{u||(u=n(8).EventEmitter)}}();var h;s=n(1).Buffer;function c(){}function f(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}function d(t,e){h=h||n(3),t=t||{},this.objectMode=!!t.objectMode,e instanceof h&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:s,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,s=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,o){--e.pendingcb,n?r(o,i):o(i);t._writableState.errorEmitted=!0,t.emit("error",i)}(t,n,i,e,s);else{var a=m(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||g(t,n),i?o(_,t,n,a,s):_(t,n,a,s)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new w(this),this.corkedRequestsFree.next=new w(this)}function p(t){if(h=h||n(3),!(this instanceof p||this instanceof h))return new p(t);this._writableState=new d(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),u.call(this)}function y(t,e,n,i,r,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function _(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),b(t,e)}function g(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),o=e.corkedRequestsFree;o.entry=n;for(var s=0;n;)r[s]=n,n=n.next,s+=1;y(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,e.corkedRequestsFree=o.next,o.next=null}else{for(;n;){var a=n.chunk,u=n.encoding,l=n.callback;if(y(t,e,!1,e.objectMode?1:a.length,a,u,l),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function m(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function v(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function b(t,e){var n=m(e);return n&&(0===e.pendingcb?(v(t,e),e.finished=!0,t.emit("finish")):v(t,e)),n}function w(t){var e=this;this.next=null,this.entry=null,this.finish=function(n){var i=e.entry;for(e.entry=null;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}a.inherits(p,u),d.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(d.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(t){}}(),p.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},p.prototype.write=function(t,e,n){var i=this._writableState,o=!1;return"function"==typeof e&&(n=e,e=null),s.isBuffer(t)?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=c),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),r(e,n)}(this,n):function(t,e,n,i){var o=!0;if(!s.isBuffer(n)&&"string"!=typeof n&&null!=n&&!e.objectMode){var a=new TypeError("Invalid non-string/buffer chunk");t.emit("error",a),r(i,a),o=!1}return o}(this,i,t,n)&&(i.pendingcb++,o=function(t,e,n,i,r){n=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=new s(e,n));return e}(e,n,i),s.isBuffer(n)&&(i="buffer");var o=e.objectMode?1:n.length;e.length+=o;var a=e.length<e.highWaterMark;a||(e.needDrain=!0);if(e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest=new f(n,i,r),u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else y(t,e,!1,o,n,i,r);return a}(this,i,t,e,n)),o},p.prototype.cork=function(){this._writableState.corked++},p.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||g(this,t))},p.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);this._writableState.defaultEncoding=t},p.prototype._write=function(t,e,n){n(new Error("not implemented"))},p.prototype._writev=null,p.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,n){e.ending=!0,b(t,e),n&&(e.finished?r(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n)}}).call(this,n(2),n(43).setImmediate)},function(t,e,n){"use strict";t.exports=s;var i=n(3),r=n(6);function o(t){this.afterTransform=function(e,n){return function(t,e,n){var i=t._transformState;i.transforming=!1;var r=i.writecb;if(!r)return t.emit("error",new Error("no writecb in Transform class"));i.writechunk=null,i.writecb=null,null!=n&&t.push(n);r(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function s(t){if(!(this instanceof s))return new s(t);i.call(this,t),this._transformState=new o(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(t){a(e,t)})):a(e)}))}function a(t,e){if(e)return t.emit("error",e);var n=t._writableState,i=t._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(i.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}r.inherits=n(4),r.inherits(s,i),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("not implemented")},s.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},function(t,e,n){"use strict";(function(t){var i=n(1).Buffer,r=n(7).Transform,o=n(51),s=n(10),a=n(19).ok,u=n(1).kMaxLength,l="Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var h=Object.keys(o),c=0;c<h.length;c++){var f=h[c];f.match(/^Z/)&&Object.defineProperty(e,f,{enumerable:!0,value:o[f],writable:!1})}for(var d={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},p=Object.keys(d),y=0;y<p.length;y++){var _=p[y];d[d[_]]=_}function g(t,e,n){var r=[],o=0;function s(){for(var e;null!==(e=t.read());)r.push(e),o+=e.length;t.once("readable",s)}function a(){var e,s=null;o>=u?s=new RangeError(l):e=i.concat(r,o),r=[],t.close(),n(s,e)}t.on("error",(function(e){t.removeListener("end",a),t.removeListener("readable",s),n(e)})),t.on("end",a),t.end(e),s()}function m(t,e){if("string"==typeof e&&(e=i.from(e)),!i.isBuffer(e))throw new TypeError("Not a string or buffer");var n=t._finishFlushFlag;return t._processChunk(e,n)}function v(t){if(!(this instanceof v))return new v(t);S.call(this,t,o.DEFLATE)}function b(t){if(!(this instanceof b))return new b(t);S.call(this,t,o.INFLATE)}function w(t){if(!(this instanceof w))return new w(t);S.call(this,t,o.GZIP)}function k(t){if(!(this instanceof k))return new k(t);S.call(this,t,o.GUNZIP)}function E(t){if(!(this instanceof E))return new E(t);S.call(this,t,o.DEFLATERAW)}function x(t){if(!(this instanceof x))return new x(t);S.call(this,t,o.INFLATERAW)}function I(t){if(!(this instanceof I))return new I(t);S.call(this,t,o.UNZIP)}function T(t){return t===o.Z_NO_FLUSH||t===o.Z_PARTIAL_FLUSH||t===o.Z_SYNC_FLUSH||t===o.Z_FULL_FLUSH||t===o.Z_FINISH||t===o.Z_BLOCK}function S(t,n){var s=this;if(this._opts=t=t||{},this._chunkSize=t.chunkSize||e.Z_DEFAULT_CHUNK,r.call(this,t),t.flush&&!T(t.flush))throw new Error("Invalid flush flag: "+t.flush);if(t.finishFlush&&!T(t.finishFlush))throw new Error("Invalid flush flag: "+t.finishFlush);if(this._flushFlag=t.flush||o.Z_NO_FLUSH,this._finishFlushFlag=void 0!==t.finishFlush?t.finishFlush:o.Z_FINISH,t.chunkSize&&(t.chunkSize<e.Z_MIN_CHUNK||t.chunkSize>e.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+t.chunkSize);if(t.windowBits&&(t.windowBits<e.Z_MIN_WINDOWBITS||t.windowBits>e.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+t.windowBits);if(t.level&&(t.level<e.Z_MIN_LEVEL||t.level>e.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+t.level);if(t.memLevel&&(t.memLevel<e.Z_MIN_MEMLEVEL||t.memLevel>e.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+t.memLevel);if(t.strategy&&t.strategy!=e.Z_FILTERED&&t.strategy!=e.Z_HUFFMAN_ONLY&&t.strategy!=e.Z_RLE&&t.strategy!=e.Z_FIXED&&t.strategy!=e.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+t.strategy);if(t.dictionary&&!i.isBuffer(t.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(n);var a=this;this._hadError=!1,this._handle.onerror=function(t,n){A(a),a._hadError=!0;var i=new Error(t);i.errno=n,i.code=e.codes[n],a.emit("error",i)};var u=e.Z_DEFAULT_COMPRESSION;"number"==typeof t.level&&(u=t.level);var l=e.Z_DEFAULT_STRATEGY;"number"==typeof t.strategy&&(l=t.strategy),this._handle.init(t.windowBits||e.Z_DEFAULT_WINDOWBITS,u,t.memLevel||e.Z_DEFAULT_MEMLEVEL,l,t.dictionary),this._buffer=i.allocUnsafe(this._chunkSize),this._offset=0,this._level=u,this._strategy=l,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!s._handle},configurable:!0,enumerable:!0})}function A(e,n){n&&t.nextTick(n),e._handle&&(e._handle.close(),e._handle=null)}function O(t){t.emit("close")}Object.defineProperty(e,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),e.Deflate=v,e.Inflate=b,e.Gzip=w,e.Gunzip=k,e.DeflateRaw=E,e.InflateRaw=x,e.Unzip=I,e.createDeflate=function(t){return new v(t)},e.createInflate=function(t){return new b(t)},e.createDeflateRaw=function(t){return new E(t)},e.createInflateRaw=function(t){return new x(t)},e.createGzip=function(t){return new w(t)},e.createGunzip=function(t){return new k(t)},e.createUnzip=function(t){return new I(t)},e.deflate=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new v(e),t,n)},e.deflateSync=function(t,e){return m(new v(e),t)},e.gzip=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new w(e),t,n)},e.gzipSync=function(t,e){return m(new w(e),t)},e.deflateRaw=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new E(e),t,n)},e.deflateRawSync=function(t,e){return m(new E(e),t)},e.unzip=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new I(e),t,n)},e.unzipSync=function(t,e){return m(new I(e),t)},e.inflate=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new b(e),t,n)},e.inflateSync=function(t,e){return m(new b(e),t)},e.gunzip=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new k(e),t,n)},e.gunzipSync=function(t,e){return m(new k(e),t)},e.inflateRaw=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new x(e),t,n)},e.inflateRawSync=function(t,e){return m(new x(e),t)},s.inherits(S,r),S.prototype.params=function(n,i,r){if(n<e.Z_MIN_LEVEL||n>e.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(i!=e.Z_FILTERED&&i!=e.Z_HUFFMAN_ONLY&&i!=e.Z_RLE&&i!=e.Z_FIXED&&i!=e.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+i);if(this._level!==n||this._strategy!==i){var s=this;this.flush(o.Z_SYNC_FLUSH,(function(){a(s._handle,"zlib binding closed"),s._handle.params(n,i),s._hadError||(s._level=n,s._strategy=i,r&&r())}))}else t.nextTick(r)},S.prototype.reset=function(){return a(this._handle,"zlib binding closed"),this._handle.reset()},S.prototype._flush=function(t){this._transform(i.alloc(0),"",t)},S.prototype.flush=function(e,n){var r=this,s=this._writableState;("function"==typeof e||void 0===e&&!n)&&(n=e,e=o.Z_FULL_FLUSH),s.ended?n&&t.nextTick(n):s.ending?n&&this.once("end",n):s.needDrain?n&&this.once("drain",(function(){return r.flush(e,n)})):(this._flushFlag=e,this.write(i.alloc(0),"",n))},S.prototype.close=function(e){A(this,e),t.nextTick(O,this)},S.prototype._transform=function(t,e,n){var r,s=this._writableState,a=(s.ending||s.ended)&&(!t||s.length===t.length);return null===t||i.isBuffer(t)?this._handle?(a?r=this._finishFlushFlag:(r=this._flushFlag,t.length>=s.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(t,r,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},S.prototype._processChunk=function(t,e,n){var r=t&&t.length,o=this._chunkSize-this._offset,s=0,h=this,c="function"==typeof n;if(!c){var f,d=[],p=0;this.on("error",(function(t){f=t})),a(this._handle,"zlib binding closed");do{var y=this._handle.writeSync(e,t,s,r,this._buffer,this._offset,o)}while(!this._hadError&&m(y[0],y[1]));if(this._hadError)throw f;if(p>=u)throw A(this),new RangeError(l);var _=i.concat(d,p);return A(this),_}a(this._handle,"zlib binding closed");var g=this._handle.write(e,t,s,r,this._buffer,this._offset,o);function m(u,l){if(this&&(this.buffer=null,this.callback=null),!h._hadError){var f=o-l;if(a(f>=0,"have should not go down"),f>0){var y=h._buffer.slice(h._offset,h._offset+f);h._offset+=f,c?h.push(y):(d.push(y),p+=y.length)}if((0===l||h._offset>=h._chunkSize)&&(o=h._chunkSize,h._offset=0,h._buffer=i.allocUnsafe(h._chunkSize)),0===l){if(s+=r-u,r=u,!c)return!0;var _=h._handle.write(e,t,s,r,h._buffer,h._offset,h._chunkSize);return _.callback=m,void(_.buffer=t)}if(!c)return!1;n()}}g.buffer=t,g.callback=m},s.inherits(v,S),s.inherits(b,S),s.inherits(w,S),s.inherits(k,S),s.inherits(E,S),s.inherits(x,S),s.inherits(I,S)}).call(this,n(2))},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";(function(e){t.exports=p;var i=n(11),r=n(15),o=n(1).Buffer;p.ReadableState=d;n(8);var s,a=function(t,e){return t.listeners(e).length};!function(){try{s=n(7)}catch(t){}finally{s||(s=n(8).EventEmitter)}}();o=n(1).Buffer;var u=n(6);u.inherits=n(4);var l,h,c=n(42),f=void 0;function d(t,e){h=h||n(3),t=t||{},this.objectMode=!!t.objectMode,e instanceof h&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=n(17).StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function p(t){if(h=h||n(3),!(this instanceof p))return new p(t);this._readableState=new d(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),s.call(this)}function y(t,e,n,r,s){var a=function(t,e){var n=null;o.isBuffer(e)||"string"==typeof e||null==e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(e,n);if(a)t.emit("error",a);else if(null===n)e.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,g(t)}(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!s){var u=new Error("stream.push() after EOF");t.emit("error",u)}else if(e.endEmitted&&s){u=new Error("stream.unshift() after end event");t.emit("error",u)}else{var l;!e.decoder||s||r||(n=e.decoder.write(n),l=!e.objectMode&&0===n.length),s||(e.reading=!1),l||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,s?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&g(t))),function(t,e){e.readingMore||(e.readingMore=!0,i(v,t,e))}(t,e)}else s||(e.reading=!1);return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(e)}f=c&&c.debuglog?c.debuglog("stream"):function(){},u.inherits(p,s),p.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!=typeof t||(e=e||n.defaultEncoding)!==n.encoding&&(t=new o(t,e),e=""),y(this,n,t,e,!1)},p.prototype.unshift=function(t){return y(this,this._readableState,t,"",!0)},p.prototype.isPaused=function(){return!1===this._readableState.flowing},p.prototype.setEncoding=function(t){return l||(l=n(17).StringDecoder),this._readableState.decoder=new l(t),this._readableState.encoding=t,this};function _(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:null===t||isNaN(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function g(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(f("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i(m,t):m(t))}function m(t){f("emit readable"),t.emit("readable"),k(t)}function v(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(f("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function b(t){f("readable nexttick read 0"),t.read(0)}function w(t,e){e.reading||(f("resume read 0"),t.read(0)),e.resumeScheduled=!1,t.emit("resume"),k(t),e.flowing&&!e.reading&&t.read(0)}function k(t){var e=t._readableState;if(f("flow",e.flowing),e.flowing)do{var n=t.read()}while(null!==n&&e.flowing)}function E(t,e){var n,i=e.buffer,r=e.length,s=!!e.decoder,a=!!e.objectMode;if(0===i.length)return null;if(0===r)n=null;else if(a)n=i.shift();else if(!t||t>=r)n=s?i.join(""):1===i.length?i[0]:o.concat(i,r),i.length=0;else{if(t<i[0].length)n=(c=i[0]).slice(0,t),i[0]=c.slice(t);else if(t===i[0].length)n=i.shift();else{n=s?"":new o(t);for(var u=0,l=0,h=i.length;l<h&&u<t;l++){var c=i[0],f=Math.min(t-u,c.length);s?n+=c.slice(0,f):c.copy(n,u,0,f),f<c.length?i[0]=c.slice(f):i.shift(),u+=f}}}return n}function x(t){var e=t._readableState;if(e.length>0)throw new Error("endReadable called on non-empty stream");e.endEmitted||(e.ended=!0,i(I,e,t))}function I(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}p.prototype.read=function(t){f("read",t);var e=this._readableState,n=t;if(("number"!=typeof t||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return f("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?x(this):g(this),null;if(0===(t=_(t,e))&&e.ended)return 0===e.length&&x(this),null;var i,r=e.needReadable;return f("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&f("length less than watermark",r=!0),(e.ended||e.reading)&&f("reading or ended",r=!1),r&&(f("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),r&&!e.reading&&(t=_(n,e)),null===(i=t>0?E(t,e):null)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),n!==t&&e.ended&&0===e.length&&x(this),null!==i&&this.emit("data",i),i},p.prototype._read=function(t){this.emit("error",new Error("not implemented"))},p.prototype.pipe=function(t,n){var o=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=t;break;case 1:s.pipes=[s.pipes,t];break;default:s.pipes.push(t)}s.pipesCount+=1,f("pipe count=%d opts=%j",s.pipesCount,n);var u=(!n||!1!==n.end)&&t!==e.stdout&&t!==e.stderr?h:p;function l(t){f("onunpipe"),t===o&&p()}function h(){f("onend"),t.end()}s.endEmitted?i(u):o.once("end",u),t.on("unpipe",l);var c=function(t){return function(){var e=t._readableState;f("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,k(t))}}(o);t.on("drain",c);var d=!1;function p(){f("cleanup"),t.removeListener("close",g),t.removeListener("finish",m),t.removeListener("drain",c),t.removeListener("error",_),t.removeListener("unpipe",l),o.removeListener("end",h),o.removeListener("end",p),o.removeListener("data",y),d=!0,!s.awaitDrain||t._writableState&&!t._writableState.needDrain||c()}function y(e){f("ondata"),!1===t.write(e)&&(1!==s.pipesCount||s.pipes[0]!==t||1!==o.listenerCount("data")||d||(f("false write response, pause",o._readableState.awaitDrain),o._readableState.awaitDrain++),o.pause())}function _(e){f("onerror",e),v(),t.removeListener("error",_),0===a(t,"error")&&t.emit("error",e)}function g(){t.removeListener("finish",m),v()}function m(){f("onfinish"),t.removeListener("close",g),v()}function v(){f("unpipe"),o.unpipe(t)}return o.on("data",y),t._events&&t._events.error?r(t._events.error)?t._events.error.unshift(_):t._events.error=[_,t._events.error]:t.on("error",_),t.once("close",g),t.once("finish",m),t.emit("pipe",o),s.flowing||(f("pipe resume"),o.resume()),t},p.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<i;r++)n[r].emit("unpipe",this);return this}var o=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this)),this},p.prototype.on=function(t,e){var n=s.prototype.on.call(this,t,e);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&!this._readableState.endEmitted){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&g(this):i(b,this))}return n},p.prototype.addListener=p.prototype.on,p.prototype.resume=function(){var t=this._readableState;return t.flowing||(f("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i(w,t,e))}(this,t)),this},p.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},p.prototype.wrap=function(t){var e=this._readableState,n=!1,i=this;for(var r in t.on("end",(function(){if(f("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&i.push(t)}i.push(null)})),t.on("data",(function(r){(f("wrapped data"),e.decoder&&(r=e.decoder.write(r)),e.objectMode&&null==r)||(e.objectMode||r&&r.length)&&(i.push(r)||(n=!0,t.pause()))})),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));return function(t,e){for(var n=0,i=t.length;n<i;n++)e(t[n],n)}(["error","close","destroy","pause","resume"],(function(e){t.on(e,i.emit.bind(i,e))})),i._read=function(e){f("wrapped _read",e),n&&(n=!1,t.resume())},i},p._fromList=E}).call(this,n(2))},function(t,e,n){"use strict";var i=n(46).Buffer,r=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=l,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=h,this.end=c,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function h(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var r=s(e[i]);if(r>=0)return r>0&&(t.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if((r=s(e[i]))>=0)return r>0&&(t.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if((r=s(e[i]))>=0)return r>0&&(2===r?r=0:t.lastNeed=r-3),r;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=o;var i=n(13),r=n(6);function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}r.inherits=n(4),r.inherits(o,i),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";(function(e){var i=n(52);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function r(t,e){if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0}function o(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var s=n(10),a=Object.prototype.hasOwnProperty,u=Array.prototype.slice,l="foo"===function(){}.name;function h(t){return Object.prototype.toString.call(t)}function c(t){return!o(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var f=t.exports=m,d=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(s.isFunction(t)){if(l)return t.name;var e=t.toString().match(d);return e&&e[1]}}function y(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function _(t){if(l||!s.isFunction(t))return s.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function g(t,e,n,i,r){throw new f.AssertionError({message:n,actual:t,expected:e,operator:i,stackStartFunction:r})}function m(t,e){t||g(t,!0,e,"==",f.ok)}function v(t,e,n,i){if(t===e)return!0;if(o(t)&&o(e))return 0===r(t,e);if(s.isDate(t)&&s.isDate(e))return t.getTime()===e.getTime();if(s.isRegExp(t)&&s.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(c(t)&&c(e)&&h(t)===h(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;var a=(i=i||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===i.expected.indexOf(e)||(i.actual.push(t),i.expected.push(e),function(t,e,n,i){if(null==t||null==e)return!1;if(s.isPrimitive(t)||s.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var r=b(t),o=b(e);if(r&&!o||!r&&o)return!1;if(r)return t=u.call(t),e=u.call(e),v(t,e,n);var a,l,h=E(t),c=E(e);if(h.length!==c.length)return!1;for(h.sort(),c.sort(),l=h.length-1;l>=0;l--)if(h[l]!==c[l])return!1;for(l=h.length-1;l>=0;l--)if(a=h[l],!v(t[a],e[a],n,i))return!1;return!0}(t,e,n,i))}return n?t===e:t==e}function b(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function w(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function k(t,e,n,i){var r;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(i=n,n=null),r=function(t){var e;try{t()}catch(t){e=t}return e}(e),i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),t&&!r&&g(r,n,"Missing expected exception"+i);var o="string"==typeof i,a=!t&&r&&!n;if((!t&&s.isError(r)&&o&&w(r,n)||a)&&g(r,n,"Got unwanted exception"+i),t&&r&&n&&!w(r,n)||!t&&r)throw r}f.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return y(_(t.actual),128)+" "+t.operator+" "+y(_(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var i=n.stack,r=p(e),o=i.indexOf("\n"+r);if(o>=0){var s=i.indexOf("\n",o+1);i=i.substring(s+1)}this.stack=i}}},s.inherits(f.AssertionError,Error),f.fail=g,f.ok=m,f.equal=function(t,e,n){t!=e&&g(t,e,n,"==",f.equal)},f.notEqual=function(t,e,n){t==e&&g(t,e,n,"!=",f.notEqual)},f.deepEqual=function(t,e,n){v(t,e,!1)||g(t,e,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(t,e,n){v(t,e,!0)||g(t,e,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(t,e,n){v(t,e,!1)&&g(t,e,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function t(e,n,i){v(e,n,!0)&&g(e,n,i,"notDeepStrictEqual",t)},f.strictEqual=function(t,e,n){t!==e&&g(t,e,n,"===",f.strictEqual)},f.notStrictEqual=function(t,e,n){t===e&&g(t,e,n,"!==",f.notStrictEqual)},f.throws=function(t,e,n){k(!0,t,e,n)},f.doesNotThrow=function(t,e,n){k(!1,t,e,n)},f.ifError=function(t){if(t)throw t},f.strict=i((function t(e,n){e||g(e,!0,n,"==",t)}),f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var E=Object.keys||function(t){var e=[];for(var n in t)a.call(t,n)&&e.push(n);return e}}).call(this,n(5))},function(t,e,n){"use strict";t.exports=function(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(r=r+e[i++]|0)|0}while(--s);r%=65521,o%=65521}return r|o<<16|0}},function(t,e,n){"use strict";var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,r){var o=i,s=r+n;t^=-1;for(var a=r;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}},function(t,e,n){"use strict";var i=n(23),r=n(37);e.version=n(38).version;var o=function(t,e,n){return"boolean"==typeof t||"number"==typeof t||"function"==typeof t||null===t||t instanceof Date||("string"==typeof t&&-1===t.indexOf("\n")||!(!n.inlineArrays||e||!Array.isArray(t)||!o(t[0],!0,n)))},s=function(t,e){if(e.noColor)return t;if("string"==typeof t)return e.stringColor?i[e.stringColor](t):t;var n=t+"";return!0===t?i.green(n):!1===t?i.red(n):null===t?i.grey(n):"number"==typeof t?i[e.numberColor](n):"function"==typeof t?"function() {}":Array.isArray(t)?t.join(", "):n},a=function(t,e,n){if(o(t,!1,e))return[r.indent(n)+s(t,e)];if("string"==typeof t)return[r.indent(n)+'"""',(u=t,l=n+e.defaultIndentation,h=u.split("\n"),(h=h.map((function(t){return r.indent(l)+t}))).join("\n")),r.indent(n)+'"""'];var u,l,h;if(Array.isArray(t)){if(0===t.length)return[r.indent(n)+e.emptyArrayMsg];var c=[];return t.forEach((function(t){var s="- ";e.noColor||(s=i[e.dashColor](s)),s=r.indent(n)+s,o(t,!1,e)?(s+=a(t,e,0)[0],c.push(s)):(c.push(s),c.push.apply(c,a(t,e,n+e.defaultIndentation)))})),c}if(t instanceof Error)return a({message:t.message,stack:t.stack.split("\n")},e,n);var f,d=e.noAlign?0:r.getMaxIndexLength(t),p=[];return Object.getOwnPropertyNames(t).forEach((function(s){if(f=s+": ",e.noColor||(f=i[e.keysColor](f)),f=r.indent(n)+f,void 0!==t[s])if(o(t[s],!1,e)){var u=e.noAlign?0:d-s.length;f+=a(t[s],e,u)[0],p.push(f)}else p.push(f),p.push.apply(p,a(t[s],e,n+e.defaultIndentation))})),p};e.render=function(t,e,n){return n=n||0,(e=e||{}).emptyArrayMsg=e.emptyArrayMsg||"(empty array)",e.keysColor=e.keysColor||"green",e.dashColor=e.dashColor||"green",e.numberColor=e.numberColor||"blue",e.defaultIndentation=e.defaultIndentation||2,e.noColor=!!e.noColor,e.noAlign=!!e.noAlign,e.stringColor=e.stringColor||null,a(t,e,n).join("\n")},e.renderString=function(t,n,r){var o,s,a="";if("string"!=typeof t||""===t)return"";"{"!==t[0]&&"["!==t[0]&&(s=-1===t.indexOf("{")?t.indexOf("["):-1===t.indexOf("[")||t.indexOf("{")<t.indexOf("[")?t.indexOf("{"):t.indexOf("["),a+=t.substr(0,s)+"\n",t=t.substr(s));try{o=JSON.parse(t)}catch(t){return i.red("Error:")+" Not valid JSON!"}return a+=e.render(o,n,r)}},function(t,e,n){var i=n(24);t.exports=i},function(t,e,n){var i={};t.exports=i,i.themes={};var r=n(10),o=i.styles=n(27),s=Object.defineProperties,a=new RegExp(/[\r\n]+/g);i.supportsColor=n(28).supportsColor,void 0===i.enabled&&(i.enabled=!1!==i.supportsColor()),i.enable=function(){i.enabled=!0},i.disable=function(){i.enabled=!1},i.stripColors=i.strip=function(t){return(""+t).replace(/\x1B\[\d+m/g,"")};i.stylize=function(t,e){if(!i.enabled)return t+"";var n=o[e];return!n&&e in i?i[e](t):n.open+t+n.close};var u=/[|\\{}()[\]^$+*?.]/g;function l(t){var e=function t(){return d.apply(t,arguments)};return e._styles=t,e.__proto__=f,e}var h,c=(h={},o.grey=o.gray,Object.keys(o).forEach((function(t){o[t].closeRe=new RegExp(function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(u,"\\$&")}(o[t].close),"g"),h[t]={get:function(){return l(this._styles.concat(t))}}})),h),f=s((function(){}),c);function d(){var t=Array.prototype.slice.call(arguments),e=t.map((function(t){return null!=t&&t.constructor===String?t:r.inspect(t)})).join(" ");if(!i.enabled||!e)return e;for(var n=-1!=e.indexOf("\n"),s=this._styles,u=s.length;u--;){var l=o[s[u]];e=l.open+e.replace(l.closeRe,l.open)+l.close,n&&(e=e.replace(a,(function(t){return l.close+t+l.open})))}return e}i.setTheme=function(t){if("string"!=typeof t)for(var e in t)!function(e){i[e]=function(n){if("object"==typeof t[e]){var r=n;for(var o in t[e])r=i[t[e][o]](r);return r}return i[t[e]](n)}}(e);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var p=function(t,e){var n=e.split("");return(n=n.map(t)).join("")};for(var y in i.trap=n(31),i.zalgo=n(32),i.maps={},i.maps.america=n(33)(i),i.maps.zebra=n(34)(i),i.maps.rainbow=n(35)(i),i.maps.random=n(36)(i),i.maps)!function(t){i[t]=function(e){return p(i.maps[t],e)}}(y);s(i,function(){var t={};return Object.keys(c).forEach((function(e){t[e]={get:function(){return l([e])}}})),t}())},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){var n={};t.exports=n;var i={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(i).forEach((function(t){var e=i[t],r=n[t]=[];r.open="["+e[0]+"m",r.close="["+e[1]+"m"}))},function(t,e,n){"use strict";(function(e){var i=n(29),r=n(30),o=e.env,s=void 0;function a(t){return function(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}(function(t){if(!1===s)return 0;if(r("color=16m")||r("color=full")||r("color=truecolor"))return 3;if(r("color=256"))return 2;if(t&&!t.isTTY&&!0!==s)return 0;var n=s?1:0;if("win32"===e.platform){var a=i.release().split(".");return Number(e.versions.node.split(".")[0])>=8&&Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((function(t){return t in o}))||"codeship"===o.CI_NAME?1:n;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in o){var u=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return u>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:(o.TERM,n)}(t))}r("no-color")||r("no-colors")||r("color=false")?s=!1:(r("color")||r("colors")||r("color=true")||r("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),t.exports={supportsColor:a,stdout:a(e.stdout),stderr:a(e.stderr)}}).call(this,n(2))},function(t,e){e.endianness=function(){return"LE"},e.hostname=function(){return"undefined"!=typeof location?location.hostname:""},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return"Browser"},e.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return"javascript"},e.platform=function(){return"browser"},e.tmpdir=e.tmpDir=function(){return"/tmp"},e.EOL="\n",e.homedir=function(){return"/"}},function(t,e,n){"use strict";(function(e){t.exports=function(t,n){var i=(n=n||e.argv).indexOf("--"),r=/^-{1,2}/.test(t)?"":"--",o=n.indexOf(r+t);return-1!==o&&(-1===i||o<i)}}).call(this,n(2))},function(t,e){t.exports=function(t,e){var n="";t=(t=t||"Run the trap, drop the bass").split("");var i={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};return t.forEach((function(t){t=t.toLowerCase();var e=i[t]||[" "],r=Math.floor(Math.random()*e.length);n+=void 0!==i[t]?i[t][r]:t})),n}},function(t,e){t.exports=function(t,e){t=t||"   he is here   ";var n={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},i=[].concat(n.up,n.down,n.mid);function r(t){return Math.floor(Math.random()*t)}function o(t){var e=!1;return i.filter((function(n){e=n===t})),e}return function(t,e){var i,s,a="";for(s in(e=e||{}).up=void 0===e.up||e.up,e.mid=void 0===e.mid||e.mid,e.down=void 0===e.down||e.down,e.size=void 0!==e.size?e.size:"maxi",t=t.split(""))if(!o(s)){switch(a+=t[s],i={up:0,down:0,mid:0},e.size){case"mini":i.up=r(8),i.mid=r(2),i.down=r(8);break;case"maxi":i.up=r(16)+3,i.mid=r(4)+1,i.down=r(64)+3;break;default:i.up=r(8)+1,i.mid=r(6)/2,i.down=r(8)+1}var u=["up","mid","down"];for(var l in u)for(var h=u[l],c=0;c<=i[h];c++)e[h]&&(a+=n[h][r(n[h].length)])}return a}(t,e)}},function(t,e){t.exports=function(t){return function(e,n,i){if(" "===e)return e;switch(n%3){case 0:return t.red(e);case 1:return t.white(e);case 2:return t.blue(e)}}}},function(t,e){t.exports=function(t){return function(e,n,i){return n%2==0?e:t.inverse(e)}}},function(t,e){t.exports=function(t){var e=["red","yellow","green","blue","magenta"];return function(n,i,r){return" "===n?n:t[e[i++%e.length]](n)}}},function(t,e){t.exports=function(t){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(n,i,r){return" "===n?n:t[e[Math.round(Math.random()*(e.length-2))]](n)}}},function(t,e,n){"use strict";e.indent=function(t){return new Array(t+1).join(" ")},e.getMaxIndexLength=function(t){var e=0;return Object.getOwnPropertyNames(t).forEach((function(n){void 0!==t[n]&&(e=Math.max(e,n.length))})),e}},function(t){t.exports=JSON.parse('{"_from":"prettyjson","_id":"prettyjson@1.2.1","_inBundle":false,"_integrity":"sha1-/P+rQdGcq0365eV15kJGYZsS0ok=","_location":"/prettyjson","_phantomChildren":{},"_requested":{"type":"tag","registry":true,"raw":"prettyjson","name":"prettyjson","escapedName":"prettyjson","rawSpec":"","saveSpec":null,"fetchSpec":"latest"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.npmjs.org/prettyjson/-/prettyjson-1.2.1.tgz","_shasum":"fcffab41d19cab4dfae5e575e64246619b12d289","_spec":"prettyjson","_where":"/home/hnosm/Development/Web/factorio-blueprint","author":{"name":"Rafael de Oleza","email":"rafeca@gmail.com","url":"https://github.com/rafeca"},"bin":{"prettyjson":"bin/prettyjson"},"bugs":{"url":"https://github.com/rafeca/prettyjson/issues"},"bundleDependencies":false,"dependencies":{"colors":"^1.1.2","minimist":"^1.2.0"},"deprecated":false,"description":"Package for formatting JSON data in a coloured YAML-style, perfect for CLI output","devDependencies":{"coveralls":"^2.11.15","istanbul":"^0.4.5","jshint":"^2.9.4","mocha":"^3.1.2","mocha-lcov-reporter":"^1.2.0","should":"^11.1.1"},"homepage":"http://rafeca.com/prettyjson","keywords":["json","cli","formatting","colors"],"license":"MIT","main":"./lib/prettyjson","name":"prettyjson","repository":{"type":"git","url":"git+https://github.com/rafeca/prettyjson.git"},"scripts":{"changelog":"git log $(git describe --tags --abbrev=0)..HEAD --pretty=\'* %s\' --first-parent","coverage":"istanbul cover _mocha --report lcovonly -- -R spec","coveralls":"npm run coverage && cat ./coverage/lcov.info | coveralls && rm -rf ./coverage","jshint":"jshint lib/*.js test/*.js","test":"npm run jshint && mocha --reporter spec","testwin":"node ./node_modules/mocha/bin/mocha --reporter spec"},"version":"1.2.1"}')},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){var e,n,i=l(t),s=i[0],a=i[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),h=0,c=a>0?s-4:s;for(n=0;n<c;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],u[h++]=e>>16&255,u[h++]=e>>8&255,u[h++]=255&e;2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,u[h++]=255&e);1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,u[h++]=e>>8&255,u[h++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],s=0,a=n-r;s<a;s+=16383)o.push(h(t,s,s+16383>a?a:s+16383));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function h(t,e,n){for(var r,o,s=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,l=u>>1,h=-7,c=n?r-1:0,f=n?-1:1,d=t[e+c];for(c+=f,o=d&(1<<-h)-1,d>>=-h,h+=a;h>0;o=256*o+t[e+c],c+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=i;h>0;s=256*s+t[e+c],c+=f,h-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),o-=l}return(d?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,u,l=8*o-r-1,h=(1<<l)-1,c=h>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,p=i?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+c>=1?f/u:f*Math.pow(2,1-c))*u>=2&&(s++,u/=2),s+c>=h?(a=0,s=h):s+c>=1?(a=(e*u-1)*Math.pow(2,r),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,r),s=0));r>=8;t[n+d]=255&a,d+=p,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;t[n+d]=255&s,d+=p,s/=256,l-=8);t[n+d-p]|=128*y}},function(t,e,n){var i=function(){try{return n(7)}catch(t){}}();(e=t.exports=n(16)).Stream=i||e,e.Readable=e,e.Writable=n(12),e.Duplex=n(3),e.Transform=n(13),e.PassThrough=n(18)},function(t,e){},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(44),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(5))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,o,s,a,u=1,l={},h=!1,c=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){o.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,i=function(t){var e=c.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(p,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&p(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return l[u]=r,i(u),u++},f.clearImmediate=d}function d(t){delete l[t]}function p(t){if(h)setTimeout(p,0,t);else{var e=l[t];if(e){h=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{d(t),h=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(5),n(2))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(this,n(5))},function(t,e,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var i=n(1),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=s),s.prototype=Object.create(r.prototype),o(r,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e,n){t.exports=n(12)},function(t,e,n){t.exports=n(3)},function(t,e,n){t.exports=n(13)},function(t,e,n){t.exports=n(18)},function(t,e,n){"use strict";(function(t,i){var r=n(19),o=n(53),s=n(54),a=n(57),u=n(60);for(var l in u)e[l]=u[l];e.NONE=0,e.DEFLATE=1,e.INFLATE=2,e.GZIP=3,e.GUNZIP=4,e.DEFLATERAW=5,e.INFLATERAW=6,e.UNZIP=7;function h(t){if("number"!=typeof t||t<e.DEFLATE||t>e.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}h.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,r(this.init_done,"close before init"),r(this.mode<=e.UNZIP),this.mode===e.DEFLATE||this.mode===e.GZIP||this.mode===e.DEFLATERAW?s.deflateEnd(this.strm):this.mode!==e.INFLATE&&this.mode!==e.GUNZIP&&this.mode!==e.INFLATERAW&&this.mode!==e.UNZIP||a.inflateEnd(this.strm),this.mode=e.NONE,this.dictionary=null)},h.prototype.write=function(t,e,n,i,r,o,s){return this._write(!0,t,e,n,i,r,o,s)},h.prototype.writeSync=function(t,e,n,i,r,o,s){return this._write(!1,t,e,n,i,r,o,s)},h.prototype._write=function(n,o,s,a,u,l,h,c){if(r.equal(arguments.length,8),r(this.init_done,"write before init"),r(this.mode!==e.NONE,"already finalized"),r.equal(!1,this.write_in_progress,"write already in progress"),r.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,r.equal(!1,void 0===o,"must provide flush value"),this.write_in_progress=!0,o!==e.Z_NO_FLUSH&&o!==e.Z_PARTIAL_FLUSH&&o!==e.Z_SYNC_FLUSH&&o!==e.Z_FULL_FLUSH&&o!==e.Z_FINISH&&o!==e.Z_BLOCK)throw new Error("Invalid flush value");if(null==s&&(s=t.alloc(0),u=0,a=0),this.strm.avail_in=u,this.strm.input=s,this.strm.next_in=a,this.strm.avail_out=c,this.strm.output=l,this.strm.next_out=h,this.flush=o,!n)return this._process(),this._checkError()?this._afterSync():void 0;var f=this;return i.nextTick((function(){f._process(),f._after()})),this},h.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]},h.prototype._process=function(){var t=null;switch(this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=s.deflate(this.strm,this.flush);break;case e.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===t)break;if(31!==this.strm.input[t]){this.mode=e.INFLATE;break}if(this.gzip_id_bytes_read=1,t++,1===this.strm.avail_in)break;case 1:if(null===t)break;139===this.strm.input[t]?(this.gzip_id_bytes_read=2,this.mode=e.GUNZIP):this.mode=e.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:for(this.err=a.inflate(this.strm,this.flush),this.err===e.Z_NEED_DICT&&this.dictionary&&(this.err=a.inflateSetDictionary(this.strm,this.dictionary),this.err===e.Z_OK?this.err=a.inflate(this.strm,this.flush):this.err===e.Z_DATA_ERROR&&(this.err=e.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===e.GUNZIP&&this.err===e.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=a.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},h.prototype._checkError=function(){switch(this.err){case e.Z_OK:case e.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===e.Z_FINISH)return this._error("unexpected end of file"),!1;break;case e.Z_STREAM_END:break;case e.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},h.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}},h.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},h.prototype.init=function(t,n,i,o,s){r(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),r(t>=8&&t<=15,"invalid windowBits"),r(n>=-1&&n<=9,"invalid compression level"),r(i>=1&&i<=9,"invalid memlevel"),r(o===e.Z_FILTERED||o===e.Z_HUFFMAN_ONLY||o===e.Z_RLE||o===e.Z_FIXED||o===e.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,t,i,o,s),this._setDictionary()},h.prototype.params=function(){throw new Error("deflateParams Not supported")},h.prototype.reset=function(){this._reset(),this._setDictionary()},h.prototype._init=function(t,n,i,r,u){switch(this.level=t,this.windowBits=n,this.memLevel=i,this.strategy=r,this.flush=e.Z_NO_FLUSH,this.err=e.Z_OK,this.mode!==e.GZIP&&this.mode!==e.GUNZIP||(this.windowBits+=16),this.mode===e.UNZIP&&(this.windowBits+=32),this.mode!==e.DEFLATERAW&&this.mode!==e.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=s.deflateInit2(this.strm,this.level,e.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:case e.UNZIP:this.err=a.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==e.Z_OK&&this._error("Init error"),this.dictionary=u,this.write_in_progress=!1,this.init_done=!0},h.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:this.err=s.deflateSetDictionary(this.strm,this.dictionary)}this.err!==e.Z_OK&&this._error("Failed to set dictionary")}},h.prototype._reset=function(){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:case e.GZIP:this.err=s.deflateReset(this.strm);break;case e.INFLATE:case e.INFLATERAW:case e.GUNZIP:this.err=a.inflateReset(this.strm)}this.err!==e.Z_OK&&this._error("Failed to reset stream")},e.Zlib=h}).call(this,n(1).Buffer,n(2))},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,u=s(t),l=1;l<arguments.length;l++){for(var h in n=Object(arguments[l]))r.call(n,h)&&(u[h]=n[h]);if(i){a=i(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(u[a[c]]=n[a[c]])}}return u}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";var i,r=n(9),o=n(55),s=n(20),a=n(21),u=n(56);function l(t,e){return t.msg=u[e],e}function h(t){return(t<<1)-(t>4?9:0)}function c(t){for(var e=t.length;--e>=0;)t[e]=0}function f(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(r.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function d(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,f(t.strm)}function p(t,e){t.pending_buf[t.pending++]=e}function y(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function _(t,e){var n,i,r=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,u=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,l=t.window,h=t.w_mask,c=t.prev,f=t.strstart+258,d=l[o+s-1],p=l[o+s];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do{if(l[(n=e)+s]===p&&l[n+s-1]===d&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<f);if(i=258-(f-o),o=f-258,i>s){if(t.match_start=e,s=i,i>=a)break;d=l[o+s-1],p=l[o+s]}}}while((e=c[e&h])>u&&0!=--r);return s<=t.lookahead?s:t.lookahead}function g(t){var e,n,i,o,u,l,h,c,f,d,p=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-262)){r.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=p?i-p:0}while(--n);e=n=p;do{i=t.prev[--e],t.prev[e]=i>=p?i-p:0}while(--n);o+=p}if(0===t.strm.avail_in)break;if(l=t.strm,h=t.window,c=t.strstart+t.lookahead,f=o,d=void 0,(d=l.avail_in)>f&&(d=f),n=0===d?0:(l.avail_in-=d,r.arraySet(h,l.input,l.next_in,d,c),1===l.state.wrap?l.adler=s(l.adler,h,d,c):2===l.state.wrap&&(l.adler=a(l.adler,h,d,c)),l.next_in+=d,l.total_in+=d,d),t.lookahead+=n,t.lookahead+t.insert>=3)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+3-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function m(t,e){for(var n,i;;){if(t.lookahead<262){if(g(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=_(t,n)),t.match_length>=3)if(i=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function v(t,e){for(var n,i,r;;){if(t.lookahead<262){if(g(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=_(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,i=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(d(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=o._tr_tally(t,0,t.window[t.strstart-1]))&&d(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function b(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),c(this.dyn_ltree),c(this.dyn_dtree),c(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),c(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),c(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function k(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):l(t,-2)}function E(t){var e,n=k(t);return 0===n&&((e=t.state).window_size=2*e.w_size,c(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function x(t,e,n,i,o,s){if(!t)return-2;var a=1;if(-1===e&&(e=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),o<1||o>9||8!==n||i<8||i>15||e<0||e>9||s<0||s>4)return l(t,-2);8===i&&(i=9);var u=new w;return t.state=u,u.strm=t,u.wrap=a,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new r.Buf8(2*u.w_size),u.head=new r.Buf16(u.hash_size),u.prev=new r.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new r.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=s,u.method=n,E(t)}i=[new b(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(g(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,d(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(d(t,!1),t.strm.avail_out),1)})),new b(4,4,8,4,m),new b(4,5,16,8,m),new b(4,6,32,32,m),new b(4,4,16,16,v),new b(8,16,32,32,v),new b(8,16,128,128,v),new b(8,32,128,256,v),new b(32,128,258,1024,v),new b(32,258,258,4096,v)],e.deflateInit=function(t,e){return x(t,e,8,15,8,0)},e.deflateInit2=x,e.deflateReset=E,e.deflateResetKeep=k,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},e.deflate=function(t,e){var n,r,s,u;if(!t||!t.state||e>5||e<0)return t?l(t,-2):-2;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||666===r.status&&4!==e)return l(t,0===t.avail_out?-5:-2);if(r.strm=t,n=r.last_flush,r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,p(r,31),p(r,139),p(r,8),r.gzhead?(p(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),p(r,255&r.gzhead.time),p(r,r.gzhead.time>>8&255),p(r,r.gzhead.time>>16&255),p(r,r.gzhead.time>>24&255),p(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),p(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(p(r,255&r.gzhead.extra.length),p(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=a(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(p(r,0),p(r,0),p(r,0),p(r,0),p(r,0),p(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),p(r,3),r.status=113);else{var _=8+(r.w_bits-8<<4)<<8;_|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(_|=32),_+=31-_%31,r.status=113,y(r,_),0!==r.strstart&&(y(r,t.adler>>>16),y(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(s=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),f(t),s=r.pending,r.pending!==r.pending_buf_size));)p(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),f(t),s=r.pending,r.pending===r.pending_buf_size)){u=1;break}u=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,p(r,u)}while(0!==u);r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),0===u&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),f(t),s=r.pending,r.pending===r.pending_buf_size)){u=1;break}u=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,p(r,u)}while(0!==u);r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),0===u&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&f(t),r.pending+2<=r.pending_buf_size&&(p(r,255&t.adler),p(r,t.adler>>8&255),t.adler=0,r.status=113)):r.status=113),0!==r.pending){if(f(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&h(e)<=h(n)&&4!==e)return l(t,-5);if(666===r.status&&0!==t.avail_in)return l(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&666!==r.status){var m=2===r.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(g(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var n,i,r,s,a=t.window;;){if(t.lookahead<=258){if(g(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=a[r=t.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){s=t.strstart+258;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<s);t.match_length=258-(s-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(r,e):i[r.level].func(r,e);if(3!==m&&4!==m||(r.status=666),1===m||3===m)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===m&&(1===e?o._tr_align(r):5!==e&&(o._tr_stored_block(r,0,0,!1),3===e&&(c(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),f(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(p(r,255&t.adler),p(r,t.adler>>8&255),p(r,t.adler>>16&255),p(r,t.adler>>24&255),p(r,255&t.total_in),p(r,t.total_in>>8&255),p(r,t.total_in>>16&255),p(r,t.total_in>>24&255)):(y(r,t.adler>>>16),y(r,65535&t.adler)),f(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?l(t,-2):(t.state=null,113===e?l(t,-3):0):-2},e.deflateSetDictionary=function(t,e){var n,i,o,a,u,l,h,f,d=e.length;if(!t||!t.state)return-2;if(2===(a=(n=t.state).wrap)||1===a&&42!==n.status||n.lookahead)return-2;for(1===a&&(t.adler=s(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(c(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new r.Buf8(n.w_size),r.arraySet(f,e,d-n.w_size,n.w_size,0),e=f,d=n.w_size),u=t.avail_in,l=t.next_in,h=t.input,t.avail_in=d,t.next_in=0,t.input=e,g(n);n.lookahead>=3;){i=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=2,g(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=l,t.input=h,t.avail_in=u,n.wrap=a,0},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var i=n(9);function r(t){for(var e=t.length;--e>=0;)t[e]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=new Array(576);r(l);var h=new Array(60);r(h);var c=new Array(512);r(c);var f=new Array(256);r(f);var d=new Array(29);r(d);var p,y,_,g=new Array(30);function m(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function v(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function b(t){return t<256?c[t]:c[256+(t>>>7)]}function w(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function k(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function E(t,e,n){k(t,n[2*e],n[2*e+1])}function x(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function I(t,e,n){var i,r,o=new Array(16),s=0;for(i=1;i<=15;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=e;r++){var a=t[2*r+1];0!==a&&(t[2*r]=x(o[a]++,a))}}function T(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function S(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function A(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]}function O(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&A(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!A(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function R(t,e,n){var i,r,a,u,l=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],r=t.pending_buf[t.l_buf+l],l++,0===i?E(t,r,e):(E(t,(a=f[r])+256+1,e),0!==(u=o[a])&&k(t,r-=d[a],u),E(t,a=b(--i),n),0!==(u=s[a])&&k(t,i-=g[a],u))}while(l<t.last_lit);E(t,256,e)}function N(t,e){var n,i,r,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[r]=0,t.opt_len--,a&&(t.static_len-=s[2*r+1]);for(e.max_code=l,n=t.heap_len>>1;n>=1;n--)O(t,o,n);r=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],O(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,O(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,o,s,a,u=e.dyn_tree,l=e.max_code,h=e.stat_desc.static_tree,c=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,y=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(o=u[2*u[2*(i=t.heap[n])+1]+1]+1)>p&&(o=p,y++),u[2*i+1]=o,i>l||(t.bl_count[o]++,s=0,i>=d&&(s=f[i-d]),a=u[2*i],t.opt_len+=a*(o+s),c&&(t.static_len+=a*(h[2*i+1]+s)));if(0!==y){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,y-=2}while(y>0);for(o=p;0!==o;o--)for(i=t.bl_count[o];0!==i;)(r=t.heap[--n])>l||(u[2*r+1]!==o&&(t.opt_len+=(o-u[2*r+1])*u[2*r],u[2*r+1]=o),i--)}}(t,e),I(o,l,t.bl_count)}function L(t,e,n){var i,r,o=-1,s=e[1],a=0,u=7,l=4;for(0===s&&(u=138,l=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=e[2*(i+1)+1],++a<u&&r===s||(a<l?t.bl_tree[2*r]+=a:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=r,0===s?(u=138,l=3):r===s?(u=6,l=3):(u=7,l=4))}function M(t,e,n){var i,r,o=-1,s=e[1],a=0,u=7,l=4;for(0===s&&(u=138,l=3),i=0;i<=n;i++)if(r=s,s=e[2*(i+1)+1],!(++a<u&&r===s)){if(a<l)do{E(t,r,t.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(E(t,r,t.bl_tree),a--),E(t,16,t.bl_tree),k(t,a-3,2)):a<=10?(E(t,17,t.bl_tree),k(t,a-3,3)):(E(t,18,t.bl_tree),k(t,a-11,7));a=0,o=r,0===s?(u=138,l=3):r===s?(u=6,l=3):(u=7,l=4)}}r(g);var P=!1;function z(t,e,n,r){k(t,0+(r?1:0),3),function(t,e,n,r){S(t),r&&(w(t,n),w(t,~n)),i.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){P||(!function(){var t,e,n,i,r,u=new Array(16);for(n=0,i=0;i<28;i++)for(d[i]=n,t=0;t<1<<o[i];t++)f[n++]=i;for(f[n-1]=i,r=0,i=0;i<16;i++)for(g[i]=r,t=0;t<1<<s[i];t++)c[r++]=i;for(r>>=7;i<30;i++)for(g[i]=r<<7,t=0;t<1<<s[i]-7;t++)c[256+r++]=i;for(e=0;e<=15;e++)u[e]=0;for(t=0;t<=143;)l[2*t+1]=8,t++,u[8]++;for(;t<=255;)l[2*t+1]=9,t++,u[9]++;for(;t<=279;)l[2*t+1]=7,t++,u[7]++;for(;t<=287;)l[2*t+1]=8,t++,u[8]++;for(I(l,287,u),t=0;t<30;t++)h[2*t+1]=5,h[2*t]=x(t,5);p=new m(l,o,257,286,15),y=new m(h,s,0,30,15),_=new m(new Array(0),a,0,19,7)}(),P=!0),t.l_desc=new v(t.dyn_ltree,p),t.d_desc=new v(t.dyn_dtree,y),t.bl_desc=new v(t.bl_tree,_),t.bi_buf=0,t.bi_valid=0,T(t)},e._tr_stored_block=z,e._tr_flush_block=function(t,e,n,i){var r,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),N(t,t.l_desc),N(t,t.d_desc),s=function(t){var e;for(L(t,t.dyn_ltree,t.l_desc.max_code),L(t,t.dyn_dtree,t.d_desc.max_code),N(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*u[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==e?z(t,e,n,i):4===t.strategy||o===r?(k(t,2+(i?1:0),3),R(t,l,h)):(k(t,4+(i?1:0),3),function(t,e,n,i){var r;for(k(t,e-257,5),k(t,n-1,5),k(t,i-4,4),r=0;r<i;r++)k(t,t.bl_tree[2*u[r]+1],3);M(t,t.dyn_ltree,e-1),M(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),R(t,t.dyn_ltree,t.dyn_dtree)),T(t),i&&S(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+256+1)]++,t.dyn_dtree[2*b(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){k(t,2,3),E(t,256,l),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";var i=n(9),r=n(20),o=n(21),s=n(58),a=n(59);function u(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(852),e.distcode=e.distdyn=new i.Buf32(592),e.sane=1,e.back=-1,0):-2}function c(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,h(t)):-2}function f(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,c(t))):-2}function d(t,e){var n,i;return t?(i=new l,t.state=i,i.window=null,0!==(n=f(t,e))&&(t.state=null),n):-2}var p,y,_=!0;function g(t){if(_){var e;for(p=new i.Buf32(512),y=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(1,t.lens,0,288,p,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(2,t.lens,0,32,y,0,t.work,{bits:5}),_=!1}t.lencode=p,t.lenbits=9,t.distcode=y,t.distbits=5}function m(t,e,n,r){var o,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new i.Buf8(s.wsize)),r>=s.wsize?(i.arraySet(s.window,e,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>r&&(o=r),i.arraySet(s.window,e,n-r,o,s.wnext),(r-=o)?(i.arraySet(s.window,e,n-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}e.inflateReset=c,e.inflateReset2=f,e.inflateResetKeep=h,e.inflateInit=function(t){return d(t,15)},e.inflateInit2=d,e.inflate=function(t,e){var n,l,h,c,f,d,p,y,_,v,b,w,k,E,x,I,T,S,A,O,R,N,L,M,P=0,z=new i.Buf8(4),C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(n=t.state).mode&&(n.mode=13),f=t.next_out,h=t.output,p=t.avail_out,c=t.next_in,l=t.input,d=t.avail_in,y=n.hold,_=n.bits,v=d,b=p,N=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;_<16;){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}if(2&n.wrap&&35615===y){n.check=0,z[0]=255&y,z[1]=y>>>8&255,n.check=o(n.check,z,2,0),y=0,_=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&y)){t.msg="unknown compression method",n.mode=30;break}if(_-=4,R=8+(15&(y>>>=4)),0===n.wbits)n.wbits=R;else if(R>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<R,t.adler=n.check=1,n.mode=512&y?10:12,y=0,_=0;break;case 2:for(;_<16;){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}if(n.flags=y,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(z[0]=255&y,z[1]=y>>>8&255,n.check=o(n.check,z,2,0)),y=0,_=0,n.mode=3;case 3:for(;_<32;){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}n.head&&(n.head.time=y),512&n.flags&&(z[0]=255&y,z[1]=y>>>8&255,z[2]=y>>>16&255,z[3]=y>>>24&255,n.check=o(n.check,z,4,0)),y=0,_=0,n.mode=4;case 4:for(;_<16;){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(z[0]=255&y,z[1]=y>>>8&255,n.check=o(n.check,z,2,0)),y=0,_=0,n.mode=5;case 5:if(1024&n.flags){for(;_<16;){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(z[0]=255&y,z[1]=y>>>8&255,n.check=o(n.check,z,2,0)),y=0,_=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((w=n.length)>d&&(w=d),w&&(n.head&&(R=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,l,c,w,R)),512&n.flags&&(n.check=o(n.check,l,w,c)),d-=w,c+=w,n.length-=w),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===d)break t;w=0;do{R=l[c+w++],n.head&&R&&n.length<65536&&(n.head.name+=String.fromCharCode(R))}while(R&&w<d);if(512&n.flags&&(n.check=o(n.check,l,w,c)),d-=w,c+=w,R)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===d)break t;w=0;do{R=l[c+w++],n.head&&R&&n.length<65536&&(n.head.comment+=String.fromCharCode(R))}while(R&&w<d);if(512&n.flags&&(n.check=o(n.check,l,w,c)),d-=w,c+=w,R)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;_<16;){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}if(y!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}y=0,_=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;_<32;){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}t.adler=n.check=u(y),y=0,_=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=f,t.avail_out=p,t.next_in=c,t.avail_in=d,n.hold=y,n.bits=_,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){y>>>=7&_,_-=7&_,n.mode=27;break}for(;_<3;){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}switch(n.last=1&y,_-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(g(n),n.mode=20,6===e){y>>>=2,_-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}y>>>=2,_-=2;break;case 14:for(y>>>=7&_,_-=7&_;_<32;){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}if((65535&y)!=(y>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&y,y=0,_=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(w=n.length){if(w>d&&(w=d),w>p&&(w=p),0===w)break t;i.arraySet(h,l,c,w,f),d-=w,c+=w,p-=w,f+=w,n.length-=w;break}n.mode=12;break;case 17:for(;_<14;){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}if(n.nlen=257+(31&y),y>>>=5,_-=5,n.ndist=1+(31&y),y>>>=5,_-=5,n.ncode=4+(15&y),y>>>=4,_-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;_<3;){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}n.lens[C[n.have++]]=7&y,y>>>=3,_-=3}for(;n.have<19;)n.lens[C[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},N=a(0,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,N){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;I=(P=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,T=65535&P,!((x=P>>>24)<=_);){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}if(T<16)y>>>=x,_-=x,n.lens[n.have++]=T;else{if(16===T){for(M=x+2;_<M;){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}if(y>>>=x,_-=x,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}R=n.lens[n.have-1],w=3+(3&y),y>>>=2,_-=2}else if(17===T){for(M=x+3;_<M;){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}_-=x,R=0,w=3+(7&(y>>>=x)),y>>>=3,_-=3}else{for(M=x+7;_<M;){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}_-=x,R=0,w=11+(127&(y>>>=x)),y>>>=7,_-=7}if(n.have+w>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;w--;)n.lens[n.have++]=R}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,L={bits:n.lenbits},N=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,N){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},N=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,N){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(d>=6&&p>=258){t.next_out=f,t.avail_out=p,t.next_in=c,t.avail_in=d,n.hold=y,n.bits=_,s(t,b),f=t.next_out,h=t.output,p=t.avail_out,c=t.next_in,l=t.input,d=t.avail_in,y=n.hold,_=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;I=(P=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,T=65535&P,!((x=P>>>24)<=_);){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}if(I&&0==(240&I)){for(S=x,A=I,O=T;I=(P=n.lencode[O+((y&(1<<S+A)-1)>>S)])>>>16&255,T=65535&P,!(S+(x=P>>>24)<=_);){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}y>>>=S,_-=S,n.back+=S}if(y>>>=x,_-=x,n.back+=x,n.length=T,0===I){n.mode=26;break}if(32&I){n.back=-1,n.mode=12;break}if(64&I){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&I,n.mode=22;case 22:if(n.extra){for(M=n.extra;_<M;){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,_-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;I=(P=n.distcode[y&(1<<n.distbits)-1])>>>16&255,T=65535&P,!((x=P>>>24)<=_);){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}if(0==(240&I)){for(S=x,A=I,O=T;I=(P=n.distcode[O+((y&(1<<S+A)-1)>>S)])>>>16&255,T=65535&P,!(S+(x=P>>>24)<=_);){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}y>>>=S,_-=S,n.back+=S}if(y>>>=x,_-=x,n.back+=x,64&I){t.msg="invalid distance code",n.mode=30;break}n.offset=T,n.extra=15&I,n.mode=24;case 24:if(n.extra){for(M=n.extra;_<M;){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,_-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===p)break t;if(w=b-p,n.offset>w){if((w=n.offset-w)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}w>n.wnext?(w-=n.wnext,k=n.wsize-w):k=n.wnext-w,w>n.length&&(w=n.length),E=n.window}else E=h,k=f-n.offset,w=n.length;w>p&&(w=p),p-=w,n.length-=w;do{h[f++]=E[k++]}while(--w);0===n.length&&(n.mode=21);break;case 26:if(0===p)break t;h[f++]=n.length,p--,n.mode=21;break;case 27:if(n.wrap){for(;_<32;){if(0===d)break t;d--,y|=l[c++]<<_,_+=8}if(b-=p,t.total_out+=b,n.total+=b,b&&(t.adler=n.check=n.flags?o(n.check,h,b,f-b):r(n.check,h,b,f-b)),b=p,(n.flags?y:u(y))!==n.check){t.msg="incorrect data check",n.mode=30;break}y=0,_=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;_<32;){if(0===d)break t;d--,y+=l[c++]<<_,_+=8}if(y!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}y=0,_=0}n.mode=29;case 29:N=1;break t;case 30:N=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=f,t.avail_out=p,t.next_in=c,t.avail_in=d,n.hold=y,n.bits=_,(n.wsize||b!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&m(t,t.output,t.next_out,b-t.avail_out)?(n.mode=31,-4):(v-=t.avail_in,b-=t.avail_out,t.total_in+=v,t.total_out+=b,n.total+=b,n.wrap&&b&&(t.adler=n.check=n.flags?o(n.check,h,b,t.next_out-b):r(n.check,h,b,t.next_out-b)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===v&&0===b||4===e)&&0===N&&(N=-5),N)},e.inflateEnd=function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?-2:(n.head=e,e.done=!1,0):-2},e.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?-2:11===n.mode&&r(1,e,i,0)!==n.check?-3:m(t,e,i,i)?(n.mode=31,-4):(n.havedict=1,0):-2},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,i,r,o,s,a,u,l,h,c,f,d,p,y,_,g,m,v,b,w,k,E,x,I,T;n=t.state,i=t.next_in,I=t.input,r=i+(t.avail_in-5),o=t.next_out,T=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),u=n.dmax,l=n.wsize,h=n.whave,c=n.wnext,f=n.window,d=n.hold,p=n.bits,y=n.lencode,_=n.distcode,g=(1<<n.lenbits)-1,m=(1<<n.distbits)-1;t:do{p<15&&(d+=I[i++]<<p,p+=8,d+=I[i++]<<p,p+=8),v=y[d&g];e:for(;;){if(d>>>=b=v>>>24,p-=b,0===(b=v>>>16&255))T[o++]=65535&v;else{if(!(16&b)){if(0==(64&b)){v=y[(65535&v)+(d&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&v,(b&=15)&&(p<b&&(d+=I[i++]<<p,p+=8),w+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=I[i++]<<p,p+=8,d+=I[i++]<<p,p+=8),v=_[d&m];n:for(;;){if(d>>>=b=v>>>24,p-=b,!(16&(b=v>>>16&255))){if(0==(64&b)){v=_[(65535&v)+(d&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(k=65535&v,p<(b&=15)&&(d+=I[i++]<<p,(p+=8)<b&&(d+=I[i++]<<p,p+=8)),(k+=d&(1<<b)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=b,p-=b,k>(b=o-s)){if((b=k-b)>h&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(E=0,x=f,0===c){if(E+=l-b,b<w){w-=b;do{T[o++]=f[E++]}while(--b);E=o-k,x=T}}else if(c<b){if(E+=l+c-b,(b-=c)<w){w-=b;do{T[o++]=f[E++]}while(--b);if(E=0,c<w){w-=b=c;do{T[o++]=f[E++]}while(--b);E=o-k,x=T}}}else if(E+=c-b,b<w){w-=b;do{T[o++]=f[E++]}while(--b);E=o-k,x=T}for(;w>2;)T[o++]=x[E++],T[o++]=x[E++],T[o++]=x[E++],w-=3;w&&(T[o++]=x[E++],w>1&&(T[o++]=x[E++]))}else{E=o-k;do{T[o++]=T[E++],T[o++]=T[E++],T[o++]=T[E++],w-=3}while(w>2);w&&(T[o++]=T[E++],w>1&&(T[o++]=T[E++]))}break}}break}}while(i<r&&o<a);i-=w=p>>3,d&=(1<<(p-=w<<3))-1,t.next_in=i,t.next_out=o,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=o<a?a-o+257:257-(o-a),n.hold=d,n.bits=p}},function(t,e,n){"use strict";var i=n(9),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,u,l,h,c,f){var d,p,y,_,g,m,v,b,w,k=f.bits,E=0,x=0,I=0,T=0,S=0,A=0,O=0,R=0,N=0,L=0,M=null,P=0,z=new i.Buf16(16),C=new i.Buf16(16),j=null,D=0;for(E=0;E<=15;E++)z[E]=0;for(x=0;x<u;x++)z[e[n+x]]++;for(S=k,T=15;T>=1&&0===z[T];T--);if(S>T&&(S=T),0===T)return l[h++]=20971520,l[h++]=20971520,f.bits=1,0;for(I=1;I<T&&0===z[I];I++);for(S<I&&(S=I),R=1,E=1;E<=15;E++)if(R<<=1,(R-=z[E])<0)return-1;if(R>0&&(0===t||1!==T))return-1;for(C[1]=0,E=1;E<15;E++)C[E+1]=C[E]+z[E];for(x=0;x<u;x++)0!==e[n+x]&&(c[C[e[n+x]]++]=x);if(0===t?(M=j=c,m=19):1===t?(M=r,P-=257,j=o,D-=257,m=256):(M=s,j=a,m=-1),L=0,x=0,E=I,g=h,A=S,O=0,y=-1,_=(N=1<<S)-1,1===t&&N>852||2===t&&N>592)return 1;for(;;){v=E-O,c[x]<m?(b=0,w=c[x]):c[x]>m?(b=j[D+c[x]],w=M[P+c[x]]):(b=96,w=0),d=1<<E-O,I=p=1<<A;do{l[g+(L>>O)+(p-=d)]=v<<24|b<<16|w|0}while(0!==p);for(d=1<<E-1;L&d;)d>>=1;if(0!==d?(L&=d-1,L+=d):L=0,x++,0==--z[E]){if(E===T)break;E=e[n+c[x]]}if(E>S&&(L&_)!==y){for(0===O&&(O=S),g+=I,R=1<<(A=E-O);A+O<T&&!((R-=z[A+O])<=0);)A++,R<<=1;if(N+=1<<A,1===t&&N>852||2===t&&N>592)return 1;l[y=L&_]=S<<24|A<<16|g-h|0}}return 0!==L&&(l[g+L]=E-O<<24|64<<16|0),f.bits=S,0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";n.r(e),n.d(e,"Blueprint",(function(){return A})),n.d(e,"Entity",(function(){return g})),n.d(e,"defaultEntities",(function(){return p})),n.d(e,"Tile",(function(){return k})),n.d(e,"book",(function(){return E})),n.d(e,"util",(function(){return i}));var i={};n.r(i),n.d(i,"decode",(function(){return f})),n.d(i,"encode",(function(){return d}));var r,o=n(0),s=n.n(o),a=n(22),u=n.n(a),l=n(14),h=n(1),c=n.n(h),f={0:function(t){var e=null;try{e=JSON.parse(l.inflateSync(c.a.from(t.slice(1),"base64")).toString("utf8"))}catch(t){throw t}return e},latest:function(t){return{}}},d={0:function(t){return"0"+l.deflateSync(JSON.stringify(t)).toString("base64")},latest:function(t){return""}};!function(t){t.Fluid="fluid",t.Item="item",t.Virtual="virtual",t.Tile="tile",t.Recipe="recipe"}(r||(r={}));var p={programmable_speaker:{type:r.Item,width:1,height:1,parameters:!0,alertParameters:!0},heat_exchanger:{type:r.Item,width:3,height:2},heat_pipe:{type:r.Item,width:1,height:1},nuclear_reactor:{type:r.Item,width:5,height:5},centrifuge:{type:r.Item,width:3,height:3},steam_turbine:{type:r.Item,width:3,height:5},tank:{type:r.Item},car:{type:r.Item},cargo_wagon:{type:r.Item,inventorySize:40},fluid_wagon:{type:r.Item},locomotive:{type:r.Item},light_armor:{type:r.Item},heavy_armor:{type:r.Item},modular_armor:{type:r.Item},grenade:{type:r.Item},cluster_grenade:{type:r.Item},flamethrower:{type:r.Item},flamethrower_ammo:{type:r.Item},rocket_launcher:{type:r.Item},rocket:{type:r.Item},explosive_rocket:{type:r.Item},atomic_bomb:{type:r.Item},combat_shotgun:{type:r.Item},shotgun:{type:r.Item},shotgun_shell:{type:r.Item},piercing_shotgun_shell:{type:r.Item},submachine_gun:{type:r.Item},pistol:{type:r.Item},firearm_magazine:{type:r.Item},piercing_rounds_magazine:{type:r.Item},uranium_rounds_magazine:{type:r.Item},cannon_shell:{type:r.Item},explosive_cannon_shell:{type:r.Item},uranium_cannon_shell:{type:r.Item},explosive_uranium_cannon_shell:{type:r.Item},power_armor:{type:r.Item},power_armor_mk2:{type:r.Item},energy_shield_equipment:{type:r.Item},energy_shield_mk2_equipment:{type:r.Item},solar_panel_equipment:{type:r.Item},fusion_reactor_equipment:{type:r.Item},battery_equipment:{type:r.Item},battery_mk2_equipment:{type:r.Item},personal_laser_defense_equipment:{type:r.Item},discharge_defense_equipment:{type:r.Item},exoskeleton_equipment:{type:r.Item},personal_roboport_equipment:{type:r.Item},personal_roboport_mk2_equipment:{type:r.Item},night_vision_equipment:{type:r.Item},discharge_defense_remote:{type:r.Item},destroyer_capsule:{type:r.Item},distractor_capsule:{type:r.Item},defender_capsule:{type:r.Item},slowdown_capsule:{type:r.Item},poison_capsule:{type:r.Item},stone:{type:r.Item},solid_fuel:{type:r.Item},stone_brick:{type:r.Item},stone_path:{type:r.Tile},landfill:{type:r.Tile},concrete:{type:r.Tile},hazard_concrete:{type:r.Item},hazard_concrete_left:{type:r.Tile},hazard_concrete_right:{type:r.Tile},refined_concrete:{type:r.Tile},refined_hazard_concrete:{type:r.Item},refined_hazard_concrete_left:{type:r.Tile},refined_hazard_concrete_right:{type:r.Tile},iron_axe:{type:r.Item},steel_axe:{type:r.Item},repair_pack:{type:r.Item},blueprint:{type:r.Item},deconstruction_planner:{type:r.Item},blueprint_book:{type:r.Item},copper_cable:{type:r.Item},red_wire:{type:r.Item},green_wire:{type:r.Item},beacon:{type:r.Item,width:3,height:3,modules:2},small_electric_pole:{type:r.Item,width:1,height:1},medium_electric_pole:{type:r.Item,width:1,height:1},substation:{type:r.Item,width:2,height:2},big_electric_pole:{type:r.Item,width:2,height:2},offshore_pump:{type:r.Item,width:2,height:2},small_lamp:{type:r.Item,width:1,height:1},solar_panel:{type:r.Item,width:3,height:3},arithmetic_combinator:{type:r.Item,width:1,height:2},decider_combinator:{type:r.Item,width:1,height:2},constant_combinator:{type:r.Item,width:1,height:1},splitter:{type:r.Item,width:2,height:1},fast_splitter:{type:r.Item,width:2,height:1},express_splitter:{type:r.Item,width:2,height:1},transport_belt:{type:r.Item,width:1,height:1},fast_transport_belt:{type:r.Item,width:1,height:1},express_transport_belt:{type:r.Item,width:1,height:1},underground_belt:{type:r.Item,width:1,height:1,directionType:!0},fast_underground_belt:{type:r.Item,width:1,height:1,directionType:!0},express_underground_belt:{type:r.Item,width:1,height:1,directionType:!0},assembling_machine_1:{type:r.Item,width:3,height:3,recipe:!0},assembling_machine_2:{type:r.Item,width:3,height:3,recipe:!0,modules:2},assembling_machine_3:{type:r.Item,width:3,height:3,recipe:!0,modules:4},wooden_chest:{type:r.Item,width:1,height:1,inventorySize:16},iron_chest:{type:r.Item,width:1,height:1,inventorySize:32},steel_chest:{type:r.Item,width:1,height:1,inventorySize:48},logistic_chest_passive_provider:{type:r.Item,width:1,height:1,inventorySize:48},logistic_chest_active_provider:{type:r.Item,width:1,height:1,inventorySize:48},logistic_chest_storage:{type:r.Item,width:1,height:1,inventorySize:48},logistic_chest_requester:{type:r.Item,width:1,height:1,inventorySize:48},logistic_chest_buffer:{type:r.Item,width:1,height:1,inventorySize:48},storage_tank:{type:r.Item,width:3,height:3},burner_inserter:{type:r.Item,width:1,height:1},inserter:{type:r.Item,width:1,height:1},long_handed_inserter:{type:r.Item,width:1,height:1},fast_inserter:{type:r.Item,width:1,height:1},filter_inserter:{type:r.Item,width:1,height:1,filterAmount:!1},stack_inserter:{type:r.Item,width:1,height:1},stack_filter_inserter:{type:r.Item,width:1,height:1,filterAmount:!1},gate:{type:r.Item,width:1,height:1},stone_wall:{type:r.Item,width:1,height:1},radar:{type:r.Item,width:3,height:3},rail:{type:r.Item},straight_rail:{type:r.Item,width:2,height:2},curved_rail:{type:r.Item,width:1,height:1},land_mine:{type:r.Item,width:1,height:1},train_stop:{type:r.Item,width:2,height:2},rail_signal:{type:r.Item,width:1,height:1},rail_chain_signal:{type:r.Item,width:1,height:1},lab:{type:r.Item,width:3,height:3,modules:2},rocket_silo:{type:r.Item,width:9,height:10,modules:4},chemical_plant:{type:r.Item,width:3,height:3,modules:3},oil_refinery:{type:r.Item,width:5,height:5,modules:3},stone_furnace:{type:r.Item,width:2,height:2},steel_furnace:{type:r.Item,width:2,height:2},electric_furnace:{type:r.Item,width:3,height:3,modules:2},pumpjack:{type:r.Item,width:3,height:3},burner_mining_drill:{type:r.Item,width:2,height:2},electric_mining_drill:{type:r.Item,width:3,height:3,modules:3},pump:{type:r.Item,width:1,height:2},pipe:{type:r.Item,width:1,height:1},pipe_to_ground:{type:r.Item,width:1,height:1},electronic_circuit:{type:r.Item},advanced_circuit:{type:r.Item},boiler:{type:r.Item,width:1,height:1},steam_engine:{type:r.Item,width:5,height:3},accumulator:{type:r.Item,width:2,height:2},roboport:{type:r.Item,width:4,height:4},construction_robot:{type:r.Item},logistic_robot:{type:r.Item},power_switch:{type:r.Item,width:3,height:3},gun_turret:{type:r.Item,width:2,height:2},artillery_turret:{type:r.Item,width:3,height:3},laser_turret:{type:r.Item,width:2,height:2},flamethrower_turret:{type:r.Item,width:2,height:3},productivity_module:{type:r.Item},productivity_module_2:{type:r.Item},productivity_module_3:{type:r.Item},effectivity_module:{type:r.Item},effectivity_module_2:{type:r.Item},effectivity_module_3:{type:r.Item},speed_module:{type:r.Item},speed_module_2:{type:r.Item},speed_module_3:{type:r.Item},water:{type:r.Fluid},crude_oil:{type:r.Fluid},petroleum_gas:{type:r.Fluid},heavy_oil:{type:r.Fluid},light_oil:{type:r.Fluid},sulfuric_acid:{type:r.Fluid},lubricant:{type:r.Fluid},steam:{type:r.Fluid},basic_oil_processing:{type:r.Recipe},advanced_oil_processing:{type:r.Recipe},heavy_oil_cracking:{type:r.Recipe},light_oil_cracking:{type:r.Recipe},coal_liquefaction:{type:r.Recipe},raw_fish:{type:r.Item},wood:{type:r.Item},raw_wood:{type:r.Item},iron_ore:{type:r.Item},iron_plate:{type:r.Item},copper_ore:{type:r.Item},copper_plate:{type:r.Item},steel_plate:{type:r.Item},coal:{type:r.Item},uranium_ore:{type:r.Item},plastic_bar:{type:r.Item},sulfur:{type:r.Item},crude_oil_barrel:{type:r.Item},heavy_oil_barrel:{type:r.Item},light_oil_barrel:{type:r.Item},lubricant_barrel:{type:r.Item},petroleum_gas_barrel:{type:r.Item},sulfuric_acid_barrel:{type:r.Item},water_barrel:{type:r.Item},empty_barrel:{type:r.Item},processing_unit:{type:r.Item},engine_unit:{type:r.Item},electric_engine_unit:{type:r.Item},battery:{type:r.Item},explosives:{type:r.Item},flying_robot_frame:{type:r.Item},low_density_structure:{type:r.Item},rocket_fuel:{type:r.Item},rocket_control_unit:{type:r.Item},satellite:{type:r.Item},uranium_235:{type:r.Item},uranium_238:{type:r.Item},uranium_fuel_cell:{type:r.Item},used_up_uranium_fuel_cell:{type:r.Item},science_pack_1:{type:r.Item},science_pack_2:{type:r.Item},science_pack_3:{type:r.Item},military_science_pack:{type:r.Item},production_science_pack:{type:r.Item},high_tech_science_pack:{type:r.Item},space_science_pack:{type:r.Item},iron_stick:{type:r.Item},iron_gear_wheel:{type:r.Item},signal_anything:{type:r.Virtual,combinator:!0},signal_each:{type:r.Virtual,combinator:!0},signal_everything:{type:r.Virtual,combinator:!0},signal_0:{type:r.Virtual},signal_1:{type:r.Virtual},signal_2:{type:r.Virtual},signal_3:{type:r.Virtual},signal_4:{type:r.Virtual},signal_5:{type:r.Virtual},signal_6:{type:r.Virtual},signal_7:{type:r.Virtual},signal_8:{type:r.Virtual},signal_9:{type:r.Virtual},signal_A:{type:r.Virtual},signal_B:{type:r.Virtual},signal_C:{type:r.Virtual},signal_D:{type:r.Virtual},signal_E:{type:r.Virtual},signal_F:{type:r.Virtual},signal_G:{type:r.Virtual},signal_H:{type:r.Virtual},signal_I:{type:r.Virtual},signal_J:{type:r.Virtual},signal_K:{type:r.Virtual},signal_L:{type:r.Virtual},signal_M:{type:r.Virtual},signal_N:{type:r.Virtual},signal_O:{type:r.Virtual},signal_P:{type:r.Virtual},signal_Q:{type:r.Virtual},signal_R:{type:r.Virtual},signal_S:{type:r.Virtual},signal_T:{type:r.Virtual},signal_U:{type:r.Virtual},signal_V:{type:r.Virtual},signal_W:{type:r.Virtual},signal_X:{type:r.Virtual},signal_Y:{type:r.Virtual},signal_Z:{type:r.Virtual},signal_blue:{type:r.Virtual},signal_red:{type:r.Virtual},signal_green:{type:r.Virtual},signal_yellow:{type:r.Virtual},signal_cyan:{type:r.Virtual},signal_pink:{type:r.Virtual},signal_white:{type:r.Virtual},signal_grey:{type:r.Virtual},signal_black:{type:r.Virtual}};function y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(){function t(e,n,i){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,"id",void 0),_(this,"bp",void 0),_(this,"name",void 0),_(this,"position",void 0),_(this,"direction",void 0),_(this,"rawConnections",void 0),_(this,"connections",void 0),_(this,"circuitParameters",void 0),_(this,"condition",void 0),_(this,"constants",void 0),_(this,"constantEnabled",void 0),_(this,"parameters",void 0),_(this,"alertParameters",void 0),_(this,"filters",void 0),_(this,"requestFilters",void 0),_(this,"directionType",void 0),_(this,"recipe",void 0),_(this,"bar",void 0),_(this,"modules",void 0),_(this,"splitterFilter",void 0),_(this,"inputPriority",void 0),_(this,"outputPriority",void 0),_(this,"size",void 0),_(this,"HAS_DIRECTION_TYPE",void 0),_(this,"CAN_HAVE_RECIPE",void 0),_(this,"CAN_HAVE_MODULES",void 0),_(this,"INVENTORY_SIZE",void 0),p[n.checkName(e.name)]||(p[n.checkName(e.name)]={});var o=p[n.checkName(e.name)];this.id=-1,this.bp=n,this.name=this.bp.checkName(e.name),this.position=s.a.fromObject(e.position),this.direction=0,this.rawConnections=e.connections,this.connections=[],this.circuitParameters=e.circuit_parameters||null,this.condition=this.parseCondition(e),this.constants=this.parseConstants(e),this.constantEnabled=!e.control_behavior||void 0===e.control_behavior.is_on||e.control_behavior.is_on,this.parameters=e.paramaters||(o.parameters?{}:null),this.alertParameters=e.alert_parameters||(o.alertParameters?{}:null),this.filters={},this.requestFilters={},this.directionType=e.type||"input",this.recipe=e.recipe?this.bp.checkName(e.recipe):void 0,this.bar=e.bar||-1,this.modules=e.items?Object.keys(e.items).reduce((function(t,n){return t[r.bp.checkName(n)]=e.items[n],t}),{}):{},this.splitterFilter=e.filter?this.bp.checkName(e.filter):void 0,this.inputPriority=e.input_priority||void 0,this.outputPriority=e.output_priority||void 0,this.size=o?new s.a(o.width||0,o.height||0):p[this.name]?new s.a(p[this.name].width||0,p[this.name].height||0):new s.a(1,1),this.HAS_DIRECTION_TYPE=o.directionType||!1,this.CAN_HAVE_RECIPE=o.recipe||!1,this.CAN_HAVE_MODULES=o.modules||0,this.INVENTORY_SIZE=o.inventorySize||0,this.setDirection(e.direction||0),this.parseFilters(e.filters),this.parseRequestFilters(e.request_filters),i&&this.position.add(new s.a(.5,.5)).subtract(this.size.clone().divide(new s.a(2,2))),this.position=new s.a(Math.round(100*this.position.x)/100,Math.round(100*this.position.y)/100)}var e,n,i;return e=t,(n=[{key:"parseConnections",value:function(t){var e=this.rawConnections;if(!e)return[];for(var n in e){if("1"!=n&&"2"!=n)return;for(var i in e[n])for(var r=0;r<e[n][i].length;r++){var o={entity:t[e[n][i][r].entity_id-1],color:"red"==i?"red":"green",side:1==parseInt(n)?1:2,id:e[n][i][r].circuit_id};this.connections.push(o)}}}},{key:"parseFilters",value:function(t){if(!t)return[];for(var e=0;e<t.length;e++){var n=this.bp.checkName(t[e].name),i=t[e].index-1,r=n;this.setFilter(i,r)}}},{key:"parseRequestFilters",value:function(t){if(!t)return[];for(var e=0;e<t.length;e++)t[e].name=this.bp.checkName(t[e].name),this.setRequestFilter(t[e].index-1,t[e].name,t[e].count)}},{key:"parseCondition",value:function(t){var e=t.control_behavior,n=e&&(e.decider_conditions||e.arithmetic_conditions||e.circuit_condition)||{};if(!e)return{};n.first_signal&&(n.first_signal.name=this.bp.checkName(n.first_signal.name)),n.second_signal&&(n.second_signal.name=this.bp.checkName(n.second_signal.name)),n.output_signal&&(n.output_signal.name=this.bp.checkName(n.output_signal.name));var i={left:n.first_signal?n.first_signal.name:void 0,right:n.second_signal?n.second_signal.name:n.constant?parseInt(n.constant):void 0,out:n.output_signal?n.output_signal.name:void 0,operator:void 0,controlEnable:e.circuit_enable_disable,readContents:e.circuit_read_hand_contents,readMode:null!=e.circuit_contents_read_mode?0==n.circuit_contents_read_mode?"pulse":"hold":void 0,countFromInput:void 0};return[n.first_signal,n.second_signal,n.output_signal].forEach((function(t){t&&!p[t.name]&&(p[t.name]={type:t.type})})),"decider_combinator"==this.name&&(i.countFromInput="true"==n.copy_count_from_input),n.comparator?i.operator=":"==n.comparator?"=":n.comparator:i.operator=n.operation,i}},{key:"parseConstants",value:function(t){var e=this;if("constant_combinator"==this.name){if(!t.control_behavior||!t.control_behavior.filters)return{};var n={};return t.control_behavior.filters.forEach((function(t){n[parseInt(t.index)-1]={name:e.bp.checkName(t.signal.name),count:t.count||0}})),n}}},{key:"place",value:function(t,e){return this.setTileData(t),this.parseConnections(e),this}},{key:"remove",value:function(){return this.bp.removeEntity(this)}},{key:"removeCleanup",value:function(t){return this.removeTileData(t),this}},{key:"topLeft",value:function(){return this.position.clone()}},{key:"topRight",value:function(){return this.position.clone().add(this.size.clone().multiply(new s.a(1,0)))}},{key:"bottomRight",value:function(){return this.position.clone().add(this.size)}},{key:"bottomLeft",value:function(){return this.position.clone().add(this.size.clone().multiply(new s.a(0,1)))}},{key:"center",value:function(){return this.position.clone().add(this.size.clone().divide(new s.a(2,2)))}},{key:"setTileData",value:function(t){var e=this;return this.tileDataAction(t,(function(n,i){return t[n+","+i]=e})),this}},{key:"removeTileData",value:function(t){return this.tileDataAction(t,(function(e,n){return delete t[e+","+n]})),this}},{key:"checkNoOverlap",value:function(t){var e=this.getOverlap(t);return!e||"gate"==this.name&&"straight_rail"==e.name||"gate"==e.name&&"straight_rail"==this.name}},{key:"getOverlap",value:function(t){var e=null;return this.tileDataAction(t,(function(n,i){e=t[n+","+i]||e})),e}},{key:"tileDataAction",value:function(t,e){if(t)for(var n=this.topLeft(),i=this.bottomRight().subtract(new s.a(.9,.9)),r=Math.floor(n.x);r<i.x;r++)for(var o=Math.floor(n.y);o<i.y;o++)e(r,o)}},{key:"connect",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"red";e=m(e,this),n=m(n,t);var r=function(t){return"decider_combinator"==t||"arithmetic_combinator"==t};return i="green"==i?i:"red",this.connections.push({entity:t,color:i,side:e,id:r(t.name)?n.toString():void 0}),t.connections.push({entity:this,color:i,side:n,id:r(this.name)?e.toString():void 0}),this}},{key:"removeConnection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"red";e=m(e,this),n=m(n,t),i=i||"red";for(var r=0;r<this.connections.length;r++)if(this.connections[r].entity==t&&this.connections[r].side==e&&this.connections[r].color==i){this.connections.splice(r,1);break}for(var o=0;o<t.connections.length;o++)if(t.connections[o].entity==this&&t.connections[o].side==n&&t.connections[o].color==i){t.connections.splice(o,1);break}return this}},{key:"removeConnectionsWithEntity",value:function(t,e){for(var n=this.connections.length-1;n>=0;n--)this.connections[n].entity!=t||e&&this.connections[n].color!=e||this.connections.splice(n,1);for(var i=t.connections.length-1;i>=0;i--)t.connections[i].entity!=this||e&&t.connections[i].color!=e||t.connections.splice(i,1);return this}},{key:"removeAllConnections",value:function(){for(var t=0;t<this.connections.length;t++)for(var e=this.connections[t].entity,n=0;n<e.connections.length;n++)if(e.connections[n].entity==this){e.connections.splice(n,1);break}return this.connections=[],this}},{key:"setFilter",value:function(t,e){if(t<0)throw new Error("Filter index cannot be less than 0!");return null==(e=this.bp.checkName(e))?delete this.filters[t]:this.filters[t]=e,this}},{key:"setRequestFilter",value:function(t,e,n){if(t<0)throw new Error("Filter index cannot be less than 0!");return null==(e=this.bp.checkName(e))?delete this.requestFilters[t]:this.requestFilters[t]={name:e,count:n},this}},{key:"removeAllFilters",value:function(){return this.filters={},this}},{key:"removeAllRequestFilters",value:function(){return this.requestFilters={},this}},{key:"setCondition",value:function(t){if(null!=t.countFromInput&&"decider_combinator"!=this.name)throw new Error("Cannot set countFromInput for "+this.name);if(t.readMode&&"pulse"!=t.readMode&&"hold"!=t.readMode)throw new Error('readMode in a condition must be "pulse" or "hold"!');if("arithmetic_combinator"==this.name&&("signal_everything"==t.left||"signal_everything"==t.out||"signal_anything"==t.left||"signal_anything"==t.out))throw new Error("Only comparitive conditions can contain signal_everything or signal_anything. Instead use signal_each");if("signal_each"==t.out&&"signal_each"!=t.left)throw new Error("Left condition must be signal_each for output to be signal_each."+("arithmetic_combinator"!=this.name?" Use signal_everything for the output instead":""));return t.left&&(t.left=this.bp.checkName(t.left)),"string"==typeof t.right&&(t.right=this.bp.checkName(t.right)),t.out&&(t.out=this.bp.checkName(t.out)),this.condition||(this.condition={}),this.condition={left:this.condition.left||t.left,right:this.condition.right||t.right,operator:this.condition.operator||t.operator,countFromInput:this.condition.countFromInput||t.countFromInput,out:this.condition.out||t.out,controlEnable:this.condition.controlEnable||t.controlEnable,readContents:this.condition.readContents||t.readContents,readMode:this.condition.readMode||t.readMode},this}},{key:"setDirection",value:function(t){return this.size=new s.a(t%4==this.direction%4?this.size.x:this.size.y,t%4==this.direction%4?this.size.y:this.size.x),this.direction=t,this}},{key:"setDirectionType",value:function(t){if(!this.HAS_DIRECTION_TYPE)throw new Error("This type of item does not have a directionType! Usually only underground belts have these.");return this.directionType=t,this}},{key:"setRecipe",value:function(t){if(!this.CAN_HAVE_RECIPE)throw new Error("This entity cannot have a recipe.");return this.recipe=this.bp.checkName(t),this}},{key:"setBar",value:function(t){if(!this.INVENTORY_SIZE)throw new Error("Only entities with inventories can have bars!");if("number"==typeof t&&t<0)throw new Error("You must provide a positive value to setBar()");return this.bar="number"!=typeof t||t>=this.INVENTORY_SIZE?-1:t,this}},{key:"setCircuitParameters",value:function(t){var e=this;return this.circuitParameters||(this.circuitParameters={}),Object.keys(t).forEach((function(n){return e.circuitParameters[n]=t[n]})),this}},{key:"setParameters",value:function(t){var e=this;return this.parameters||(this.parameters={}),Object.keys(t).forEach((function(n){return e.parameters[n]=t[n]})),this}},{key:"setAlertParameters",value:function(t){var e=this;return this.alertParameters||(this.alertParameters={}),Object.keys(t).forEach((function(n){return e.alertParameters[n]=t[n]})),this}},{key:"setConstant",value:function(t,e,n){if("constant_combinator"!=this.name)throw new Error("Can only set constants for constant combinators!");if(t<0||t>=18)throw new Error(t+" is an invalid position (must be between 0 and 17 inclusive)");return this.constants||(this.constants={}),e?this.constants[t]={name:this.bp.checkName(e),count:null==n?0:n}:delete this.constants[t],this}},{key:"setSplitterFilter",value:function(t){return this.splitterFilter=t,this}},{key:"setInputPriority",value:function(t){return this.inputPriority=t,this}},{key:"setOutputPriority",value:function(t){return this.outputPriority=t,this}},{key:"getData",value:function(){var t,e,n,i,r,o,a,u,l,h=this,c=function(t,e){return null!=t?t:e},f=function(){var t={};return t.first_signal=h.condition.left?{type:p[h.condition.left].type,name:h.condition.left.replace(/_/g,"-")}:void 0,t.second_signal="string"==typeof h.condition.right?{type:p[h.condition.right].type,name:h.condition.right.replace(/_/g,"-")}:void 0,t.constant="number"==typeof h.condition.right?h.condition.right:void 0,t.operation=void 0,t.comparator=void 0,t.output_signal=h.condition.out?{type:p[h.condition.out].type,name:h.condition.out.replace(/_/g,"-")}:void 0,"arithmetic_combinator"!=h.name?(t.comparator=h.condition.operator,t.copy_count_from_input=null!=h.condition.countFromInput?(!!h.condition.countFromInput).toString():void 0):t.operation=h.condition.operator,t};return{name:this.bp.fixName(this.name),position:this.center().subtract(new s.a(.5,.5)),direction:this.direction||0,entity_number:-1,type:this.directionType?this.directionType:void 0,recipe:this.recipe?this.bp.fixName(this.recipe):void 0,bar:-1!=this.bar?this.bar:void 0,filter:this.splitterFilter?this.bp.fixName(this.splitterFilter):void 0,input_priority:this.inputPriority||void 0,output_priority:this.outputPriority||void 0,items:this.modules&&Object.keys(this.modules).length?Object.keys(this.modules).reduce((function(t,e){return t[h.bp.fixName(e)]=h.modules[e],t}),{}):void 0,filters:v(Object.keys(this.filters).map((function(t){return{index:parseInt(t)+1,name:h.bp.fixName(h.filters[parseInt(t)])}}))),request_filters:v(Object.keys(this.requestFilters).map((function(t){var e=h.requestFilters[parseInt(t)];return{name:h.bp.fixName(e.name),count:e.count,index:parseInt(t)+1}}))),connections:this.connections.length||this.condition||Object.keys(this.condition).length||Object.keys(this.circuitParameters).length?this.connections.reduce((function(t,e){var n=e.side,i=e.color;return t[n]||(t[n]={}),t[n][i]||(t[n][i]=[]),t[n][i].push({entity_id:e.entity.id,circuit_id:e.id}),t}),{}):void 0,parameters:this.parameters?{playback_volume:c(this.parameters.volume,1),playback_globally:c(this.parameters.playGlobally,!1),allow_polyphony:c(this.parameters.allowPolyphony,!0)}:void 0,alert_parameters:this.alertParameters?(t=this.alertParameters,e=t.showAlert,n=void 0!==e&&e,i=t.showOnMap,r=void 0===i||i,o=t.message,a=void 0===o?"":o,u=t.icon,l=void 0===u?void 0:u,l&&(l="string"==typeof l?{type:p[l].type||"",name:l.replace(/_/g,"-")}:{type:l.type.replace(/_/g,"-"),name:l.name.replace(/_/g,"-")}),{show_alert:n,show_on_map:r,alert_message:a,icon_signal_id:l}):void 0,control_behavior:this.constants||this.condition||"decider_combinator"==this.name||"arithmetic_combinator"==this.name?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h.condition?(t.circuit_enable_disable=h.condition.controlEnable,t.circuit_read_hand_contents=h.condition.readContents,t.circuit_contents_read_mode=null!=h.condition.readMode?"pulse"==h.condition.readMode?0:1:void 0,t):t}({filters:this.constants&&Object.keys(this.constants).length?Object.keys(this.constants).map((function(t,e){var n=h.constants[t];return{signal:{name:h.bp.fixName(n.name),type:p[n.name].type},count:null!=n.count?n.count:0,index:parseInt(t)+1}})):void 0,decider_conditions:"decider_combinator"==this.name?f():void 0,arithmetic_conditions:"arithmetic_combinator"==this.name?f():void 0,circuit_condition:!this.name.includes("combinator")&&this.condition.left?f():void 0,is_on:"constant_combinator"!=this.name||this.constantEnabled?void 0:this.constantEnabled,circuit_parameters:this.circuitParameters?{signal_value_is_pitch:c(this.circuitParameters.signalIsPitch,!1),instrument_id:c(this.circuitParameters.instrument,0),note_id:c(this.circuitParameters.note,0)}:void 0}):void 0}}}])&&y(e.prototype,n),i&&y(e,i),t}();function m(t,e){if(!t)return 1;if(1==t||2==t)return t;if("in"==t||"out"==t)return e&&"arithmetic_combinator"!=e.name&&"decider_combinator"!=e.name||"in"==t?1:2;throw new Error("Invalid side")}function v(t){return t.length?t:void 0}function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,"id",void 0),w(this,"bp",void 0),w(this,"name",void 0),w(this,"position",void 0),this.id=-1,this.bp=n,this.name=this.bp.checkName(e.name),!e.position||null==e.position.x||null==e.position.y)throw new Error("Invalid position provided: "+e.position);this.position=s.a.fromObject(e.position)}var e,n,i;return e=t,(n=[{key:"remove",value:function(){return this.bp.removeTile(this)}},{key:"getData",value:function(){return{name:this.bp.fixName(this.name),position:this.position}}}])&&b(e.prototype,n),i&&b(e,i),t}();function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.slice(0,1);if("0"!==n)throw new Error("Cannot find decoder for blueprint book version "+n);var i=f[n](t),r=i.blueprint_book.blueprints,o=[];return r.forEach((function(t){t=t.blueprint,o.push(new A(t,e))})),o}function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};I(this,t),S(this,"name",void 0),S(this,"icons",void 0),S(this,"entities",void 0),S(this,"tiles",void 0),S(this,"entityPositionGrid",void 0),S(this,"tilePositionGrid",void 0),S(this,"version",void 0),S(this,"checkWithEntityData",void 0),this.name="Blueprint",this.icons=[],this.entities=[],this.tiles=[],this.entityPositionGrid={},this.tilePositionGrid={},this.version="0",this.checkWithEntityData=null==n.checkWithEntityData||n.checkWithEntityData,e&&this.load(e,n)}var e,n,i;return e=t,i=[{key:"setEntityData",value:function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)p[e[n]]=t[e[n]]}},{key:"getEntityData",value:function(){return p}},{key:"getBook",value:function(t,e){return function(t,e){return E(t,e)}(t,e)}},{key:"toBook",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"latest";return O(t,e,n)}},{key:"isBook",value:function(t){return function(t){var e=t.slice(0,1);if("0"!==e)throw new Error("No decoder found for blueprint book version "+e);return"object"===x(f[e](t).blueprint_book)}(t)}},{key:"UP",get:function(){return 0}},{key:"RIGHT",get:function(){return 2}},{key:"DOWN",get:function(){return 4}},{key:"LEFT",get:function(){return 6}},{key:"ROTATION_NONE",get:function(){return 0}},{key:"ROTATION_90_CW",get:function(){return 1}},{key:"ROTATION_180_CW",get:function(){return 2}},{key:"ROTATION_270_CW",get:function(){return 3}},{key:"ROTATION_270_CCW",get:function(){return this.ROTATION_90_CW}},{key:"ROTATION_180_CCW",get:function(){return this.ROTATION_180_CW}},{key:"ROTATION_90_CCW",get:function(){return this.ROTATION_270_CW}}],(n=[{key:"toString",value:function(){return this.setIds(),u.a.render(this.toObject().blueprint,{noAlign:!0,numberColor:"magenta"})}},{key:"load",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fixEntityData:!1};if("string"==typeof t){var n=t.slice(0,1);if("0"!==n)throw new Error("Cannot find decoder for blueprint version "+n);t=f[n](t)}return this.fillFromObject(t,e)}},{key:"fillFromObject",value:function(e,n){var i=this;return e.hasOwnProperty("blueprint")&&(e=e.blueprint),e.tiles||(e.tiles=[]),e.entities||(e.entities=[]),e.icons||(e.icons=[]),this.name=e.label,this.version=e.version,e.entities.forEach((function(e){if(n.fixEntityData){var r={};r[i.jsName(e.name)]={type:"item",width:1,height:1},t.setEntityData(r)}i.createEntityWithData(e,n.allowOverlap||!1,!0,!0)})),this.entities.forEach((function(t){t.place(i.entityPositionGrid,i.entities)})),e.tiles.forEach((function(t){i.createTile(t.name,t.position)})),this.icons=[],e.icons.forEach((function(t){i.icons[t.index-1]=i.checkName(t.signal.name)})),this.setIds(),this}},{key:"placeBlueprint",value:function(t,e,n,i){var r=this,o=[];return t.entities.forEach((function(t){var s=t.getData();s.direction+=2*(n||0),s.direction%=8,3==n?s.position={x:s.position.y,y:-s.position.x}:2==n?s.position={x:-s.position.x,y:-s.position.y}:1==n&&(s.position={x:-s.position.y,y:s.position.x}),s.position.x+=e.x,s.position.y+=e.y,o.push(r.createEntityWithData(s,i,!0,!0))})),o.forEach((function(t){t.place(r.entityPositionGrid,o)})),t.tiles.forEach((function(t){var i=t.getData();3==n?i.position={x:i.position.y,y:-i.position.x}:2==n?i.position={x:-i.position.x,y:-i.position.y}:1==n&&(i.position={x:-i.position.y,y:i.position.x}),i.position.x+=e.x,i.position.y+=e.y,r.createTileWithData(i)})),this}},{key:"createEntity",value:function(t,e,n,i,r,o){return this.createEntityWithData({name:t,position:e,direction:n||0},i,r,o)}},{key:"createEntityWithData",value:function(t,e,n,i){var r=new g(t,this,i);if(e||r.checkNoOverlap(this.entityPositionGrid))return n||r.place(this.entityPositionGrid,this.entities),this.entities.push(r),r;var o=r.getOverlap(this.entityPositionGrid);throw new Error("Entity "+t.name+" overlaps "+o.name+" entity ("+t.position.x+", "+t.position.y+")")}},{key:"createTile",value:function(t,e){return this.createTileWithData({name:t,position:e})}},{key:"createTileWithData",value:function(t){var e=new k(t,this);return this.tilePositionGrid[t.position.x+","+t.position.y]&&this.removeTile(this.tilePositionGrid[t.position.x+","+t.position.y]),this.tilePositionGrid[t.position.x+","+t.position.y]=e,this.tiles.push(e),e}},{key:"findEntity",value:function(t){return this.entityPositionGrid[Math.floor(t.x)+","+t.y]||null}},{key:"findTile",value:function(t){return this.tilePositionGrid[Math.floor(t.x)+","+t.y]||null}},{key:"removeEntity",value:function(t){if(t){t.removeCleanup(this.entityPositionGrid);var e=this.entities.indexOf(t);return-1==e||this.entities.splice(e,1),t}return!1}},{key:"removeTile",value:function(t){if(t){var e=this.tiles.indexOf(t);return-1==e||this.tiles.splice(e,1),t}return!1}},{key:"removeEntityAtPosition",value:function(t){return!!this.entityPositionGrid[t.x+","+t.y]&&this.removeEntity(this.entityPositionGrid[t.x+","+t.y])}},{key:"removeTileAtPosition",value:function(t){return!!this.tilePositionGrid[t.x+","+t.y]&&this.removeTile(this.tilePositionGrid[t.x+","+t.y])}},{key:"setIds",value:function(){return this.entities.forEach((function(t,e){t.id=e+1})),this.tiles.forEach((function(t,e){t.id=e+1})),this}},{key:"getPosition",value:function(t,e,n){return this.entities.length?new s.a(this.entities.reduce((function(n,i){return e(n,i[t]().x)}),this.entities[0][t]().x),this.entities.reduce((function(e,i){return n(e,i[t]().y)}),this.entities[0][t]().y)):new s.a(0,0)}},{key:"center",value:function(){return new s.a((this.topLeft().x+this.topRight().x)/2,(this.topLeft().y+this.bottomLeft().y)/2)}},{key:"topLeft",value:function(){return this.getPosition("topLeft",Math.min,Math.min)}},{key:"topRight",value:function(){return this.getPosition("topRight",Math.max,Math.min)}},{key:"bottomLeft",value:function(){return this.getPosition("bottomLeft",Math.min,Math.max)}},{key:"bottomRight",value:function(){return this.getPosition("bottomRight",Math.max,Math.max)}},{key:"fixCenter",value:function(t){var e=this;if(!this.entities.length)return this;var n=t?-t.x:2*-Math.floor(this.center().x/2),i=t?-t.y:2*-Math.floor(this.center().y/2),r=new s.a(n,i);return this.entities.forEach((function(t){return t.removeTileData(e.entityPositionGrid)})),this.entities.forEach((function(t){t.position.add(r),t.setTileData(e.entityPositionGrid)})),this.tiles.forEach((function(t){return delete e.tilePositionGrid[t.position.x+","+t.position.y]})),this.tiles.forEach((function(t){t.position.add(r),e.tilePositionGrid[t.position.x+","+t.position.y]=t})),this}},{key:"generateIcons",value:function(t){t||(t=2),t=Math.min(this.entities.length,Math.min(Math.max(t,1),4));for(var e=0;e<t;e++)this.icons[e]=this.entities[e].name;return this}},{key:"toObject",value:function(){var t=this;this.setIds(),this.icons.length||this.generateIcons();var e=this.entities.map((function(t,e){var n=t.getData();return n.entity_number=e+1,n})),n=this.tiles.map((function(t,e){return t.getData()}));return{blueprint:{icons:this.icons.map((function(e,n){return{signal:{type:p[e].type,name:t.fixName(e)},index:n+1}})),entities:this.entities.length?e:void 0,tiles:this.tiles.length?n:void 0,item:"blueprint",version:this.version||0,label:this.name}}}},{key:"toJSON",value:function(){return JSON.stringify(this.toObject())}},{key:"encode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"latest";return d[t](this.toObject())}},{key:"checkName",value:function(t){if(t=this.jsName(t),!p[t]&&this.checkWithEntityData)throw new Error(t+" does not exist! You can add it by putting it into entityData.");return t}},{key:"jsName",value:function(t){return"string"==typeof t?t.replace(/-/g,"_"):t}},{key:"fixName",value:function(t){return t.replace(/_/g,"-")}}])&&T(e.prototype,n),i&&T(e,i),t}();function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"latest",i={blueprint_book:{blueprints:t.map((function(t){return t.toObject()})),item:"blueprint-book",active_index:e,version:0}};return d[n](i)}}]).default}));